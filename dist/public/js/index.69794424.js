(function(e){function t(t){for(var r,o,u=t[0],l=t[1],i=t[2],s=0,b=[];s<u.length;s++)o=u[s],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&b.push(a[o][0]),a[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);d&&d(t);while(b.length)b.shift()();return c.push.apply(c,i||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,u=1;u<n.length;u++){var l=n[u];0!==a[l]&&(r=!1)}r&&(c.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={index:0},c=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var i=0;i<u.length;i++)t(u[i]);var d=l;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("ffb4")},"1eab":function(e,t,n){"use strict";n("fdd5")},"6bd3":function(e,t,n){},"8f06":function(e,t,n){"use strict";n("96e3")},9267:function(e,t,n){"use strict";n("984d")},"96e3":function(e,t,n){},"984d":function(e,t,n){},fdd5:function(e,t,n){},ffb4:function(e,t,n){"use strict";n.r(t);n("9531"),n("26d3"),n("2007"),n("41ab");var r,a,c,o,u=n("4430"),l=n("42c2"),i=(n("df26"),n("2d6d"),n("f8a5"),n("868d"),n("ef1f"),n("0d9f"),n("8206")),d=n.n(i),s=d.a.create({baseURL:"/api",proxy:{host:"localhost",port:3e3},withCredentials:!0}),b=(n("d6de"),n("8d0f"),n("78db")),f=n("f5f2"),m=n("30c6"),p=n("f0ad"),v=n("02a5"),O=(n("841a"),n("0f9e"));(function(e){e["SET_DATA"]="MUTATE_SET_DATA",e["UPDATE_DATA"]="MUTATE_UPDATE_DATA",e["SET_STATUS"]="MUTATE_SET_STATUS",e["REMOVE_DATA"]="MUTATE_REMOVE_DATA"})(r||(r={})),function(e){e["INITIALIZE_DATA"]="INITIALIZE_DATA",e["UPDATE_DATA"]="UPDATE_DATA",e["DELETE_DATA"]="DELETE_DATA"}(a||(a={})),function(e){e["GET_ALL"]="GET_ALL",e["GET_BY_ID"]="GET_BY_ID",e["GET_STATUS"]="GET_STATUS"}(c||(c={})),function(e){e["LOADING"]="LOADING",e["SUCCESS"]="SUCCESS",e["IDLE"]="IDLE"}(o||(o={}));var j,h,y,E,k,w,g,x=n("612a"),T=n("b827"),V=function(e,t,n,r,a){Object(p["a"])(u,e);var c=Object(v["a"])(u);function u(){var e;return Object(f["a"])(this,u),e=c.apply(this,arguments),e.status=o.IDLE,e}return Object(m["a"])(u,[{key:t,get:function(){var e=this;return Object(x["a"])((function(){return e.status}))}},{key:n,get:function(){var e=this;return Object(x["a"])((function(){return e.data}))}},{key:r,value:function(e){this.status=e}},{key:a,value:function(e){this.data=e}}]),u}(T["d"],c.GET_STATUS,c.GET_ALL,j=r.SET_STATUS,h=r.SET_DATA);function N(e,t){return A.apply(this,arguments)}function A(){return A=Object(l["a"])(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t(r.SET_STATUS,o.LOADING),"function"!==typeof n){e.next=6;break}return e.next=4,n();case 4:e.next=10;break;case 6:return e.next=8,s(n);case 8:a=e.sent,t(r.SET_DATA,a.data);case 10:t(r.SET_STATUS,o.SUCCESS);case 11:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}Object(O["b"])([T["c"]],V.prototype,j,null),Object(O["b"])([T["c"]],V.prototype,h,null),function(e){e["ADD_TITLE"]="ADD_TITLE"}(y||(y={})),function(e){e["GET_ALL_WITH_PEOPLE_AMOUNT"]="GET_ALL_WITH_PEOPLE_AMOUNT"}(E||(E={}));var _=function(e,t,n,a,c,u,i){Object(p["a"])(b,e);var d=Object(v["a"])(b);function b(){var e;return Object(f["a"])(this,b),e=d.apply(this,arguments),e.data=[],e}return Object(m["a"])(b,[{key:t,get:function(){var e=this;return function(t){return Object(x["a"])((function(){return e.data.find((function(e){return e.id===t}))}))}}},{key:n,value:function(e){}},{key:a,value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.context.commit(r.SET_STATUS,o.LOADING),e.next=3,s.get("/jobtitle");case 3:t=e.sent,this.context.commit(r.SET_DATA,t.data),this.context.commit(r.SET_STATUS,o.SUCCESS);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:c,value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N(this.context.commit,Object(l["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.post("/jobtitle",{name:t});case 2:r=e.sent,n.data.push(r.data);case 4:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:u,value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N(this.context.commit,Object(l["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.post("/jobtitle",{name:t});case 2:a=e.sent,n.context.commit(r.SET_DATA,a.data);case 4:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:i,value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N(this.context.commit,Object(l["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.delete("/jobtitle/".concat(t));case 2:a=n.data.filter((function(e){return e.id!==t})),n.context.commit(r.SET_DATA,a);case 4:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),b}(V,c.GET_BY_ID,r.REMOVE_DATA,k=a.INITIALIZE_DATA,w=y.ADD_TITLE,a.UPDATE_DATA,g=a.DELETE_DATA);Object(O["b"])([T["a"]],_.prototype,k,null),Object(O["b"])([T["a"]],_.prototype,w,null),Object(O["b"])([T["a"]],_.prototype,g,null),_=Object(O["b"])([Object(T["b"])({namespaced:!0,name:"jobTitle"})],_);var D,S,I,C,R,B,L,U=_,H=n("7c6c");n("bdf7"),n("d86f");(function(e){e["UPDATE_AVAILABILITY"]="UPDATE_AVAILABILITY",e["ADD_AVAILBILITY"]="ADD_AVAILABILITY",e["REMOVE_AVAILABILITY"]="REMOVE_AVAILABILITY"})(D||(D={}));var M=function(e,t,n,a,c,o,i,d,b){Object(p["a"])(j,e);var O=Object(v["a"])(j);function j(){var e;return Object(f["a"])(this,j),e=O.apply(this,arguments),e.data=[],e}return Object(m["a"])(j,[{key:t,get:function(){var e=this;return function(t){return Object(u["computed"])((function(){return e.data.find((function(e){return e.id===t}))}))}}},{key:n,value:function(e){this.data=this.data.filter((function(t){return t.id!==e.id}))}},{key:a,value:function(e){var t=this.data.findIndex((function(t){return e.id===t.id}));this.data[t]=e}},{key:c,value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N(this.context.commit,{url:"/person"});case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:o,value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N(this.context.commit,Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.id){e.next=3;break}e.next=6;break;case 3:return e.next=5,s.put("/person/".concat(t.id),t);case 5:e.sent;case 6:n.context.commit(r.UPDATE_DATA,t);case 7:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:i,value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:d,value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N(this.context.commit,Object(l["a"])(regeneratorRuntime.mark((function e(){var r,a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.post("/person/".concat(t.personId,"/availability"),t.availabilities);case 2:a=e.sent,console.log(a.data),c=n.data.findIndex((function(e){return e.id===t.personId})),(r=n.data[c].availabilities).push.apply(r,Object(H["a"])(a.data));case 6:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:b,value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.availability),e.next=3,N(this.context.commit,Object(l["a"])(regeneratorRuntime.mark((function e(){var r,a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.personId,a=t.availability,e.next=3,s.delete("/person/".concat(r,"/availability/").concat(a));case 3:c=n.data.findIndex((function(e){return e.id===r})),n.data[c].availabilities=n.data[c].availabilities.filter((function(e){return e.id!==a}));case 5:case"end":return e.stop()}}),e)}))));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"EDIT_AVAILABILITY",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N(this.context.commit,Object(l["a"])(regeneratorRuntime.mark((function e(){var r,a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.put("/person/".concat(t.id,"/availability"),t.availability);case 2:r=e.sent,a=n.data.findIndex((function(e){return e.id===t.id})),c=n.data[a].availabilities.findIndex((function(e){return e.id===t.availability.id})),n.data[a].availabilities[c]=r.data;case 6:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"EDIT_PERSON",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N(this.context.commit,Object(l["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.put("/person/".concat(t.id),t);case 2:r=e.sent,"new"!==t.id?(a=n.data.findIndex((function(e){return e.id===t.id})),n.data[a]=r.data):n.data.push(r.data);case 4:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),j}(V,c.GET_BY_ID,S=r.REMOVE_DATA,I=r.UPDATE_DATA,C=a.INITIALIZE_DATA,R=a.UPDATE_DATA,a.DELETE_DATA,B=D.ADD_AVAILBILITY,L=D.REMOVE_AVAILABILITY);Object(O["b"])([T["c"]],M.prototype,S,null),Object(O["b"])([T["c"]],M.prototype,I,null),Object(O["b"])([T["a"]],M.prototype,C,null),Object(O["b"])([T["a"]],M.prototype,R,null),Object(O["b"])([Object(T["a"])({rawError:!0})],M.prototype,B,null),Object(O["b"])([T["a"]],M.prototype,L,null),Object(O["b"])([T["a"]],M.prototype,"EDIT_AVAILABILITY",null),Object(O["b"])([T["a"]],M.prototype,"EDIT_PERSON",null),M=Object(O["b"])([Object(T["b"])({namespaced:!0,name:"person"})],M);var P,G,F,Y=M,q=n("0b38");n("cfce");(function(e){e["CREATE_STORE"]="CREATE_STORE",e["CHANGE_HOURS"]="CHANGE_HOURS",e["CHANGE_NAME"]="CHANGE_NAME",e["EDIT_SCHEDULE_ITEM"]="EDIT_SCHEDULE_ITEM",e["UPDATE_SCHEDULE"]="UPDATE_SCHEDULE",e["GENERATE_SCHEDULE"]="GENERATE_SCHEDULE"})(P||(P={})),function(e){e["GET_STORE_HOURS"]="GET_STORE_HOURS",e["GET_SCHEDULE"]="GET_SCHEDULE"}(G||(G={})),function(e){e["SET_SCHEDULE"]="SET_SCHEDULE"}(F||(F={}));var $,W,J,Z,z,Q,K,X,ee=n("050d"),te=n.n(ee),ne=function(e,t,n,a,c,o,u,i,d,b,O,j,h,y,E){Object(p["a"])(w,e);var k=Object(v["a"])(w);function w(){var e;return Object(f["a"])(this,w),e=k.apply(this,arguments),e.data={},e}return Object(m["a"])(w,[{key:t,get:function(){return function(e){return Object(x["a"])((function(){}))}}},{key:n,get:function(){var e=this;return Object(x["a"])((function(){return e.data.storeHours}))}},{key:a,get:function(){var e,t;return null!==(e=null===(t=this.data.schedule)||void 0===t?void 0:t.data)&&void 0!==e?e:[]}},{key:"SCHEDULE_IS_DEFAULT",get:function(){var e,t;return null!==(e=null===(t=this.data.schedule)||void 0===t?void 0:t.default)&&void 0!==e&&e}},{key:"GET_SCHEDULE_BY_DATE",get:function(){var e=this;return function(t){var n,r;return(null===(n=e.data.schedule)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.filter((function(e){return te()(e.start).isSame(t,"date")})))||[]}}},{key:"SCHEDULE_START_DATES",get:function(){return Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.get("/schedule/startdates");case 2:return t=e.sent,e.abrupt("return",t.data.map((function(e){return te()(e).add(12,"hours").toDate()})));case 4:case"end":return e.stop()}}),e)})))}},{key:c,value:function(e){throw new Error("Method not implemented.")}},{key:o,value:function(e){this.data.schedule=e}},{key:u,value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,c,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N(this.context.commit,Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.put("/schedule/item",t);case 2:case"end":return e.stop()}}),e)}))));case 2:r=null===(n=this.data.schedule.data)||void 0===n?void 0:n.findIndex((function(e){return e.id===t.id})),void 0!==r&&(a=this.data.schedule.data[r],c=te()(t.date),o=te()("".concat(c.format("YYYY-MM-DD")," ").concat(t.end),"YYYY-MM-DD HH:mm"),this.data.schedule.data[r]=Object(q["a"])(Object(q["a"])({},a),{},{start:c.toISOString(),end:o.toISOString(),title:"".concat(c.format("HH:mm"),"-").concat(o.format("HH:mm"))}),t.personId&&(this.data.schedule.data[r].resourceId=t.personId));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"ADD_SCHEDULE_ITEM",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N(this.context.commit,Object(l["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.post("/schedule/item",t);case 2:r=e.sent,console.log(r),n.data.schedule||(n.data.schedule={data:[]}),n.data.schedule.data?n.data.schedule.data.push(r.data):n.data.schedule.data=[r.data];case 6:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"DELETE_SCHEDULE_ITEM",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N(this.context.commit,Object(l["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.delete("/schedule/item",{params:{id:t}});case 2:n.data.schedule.data=(null===(r=n.data.schedule.data)||void 0===r?void 0:r.filter((function(e){return e.id!==t})))||[];case 3:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"SET_DEFAULT_SCHEDULE",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,N(this.context.commit,Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.post("/schedule/default",{date:t});case 2:case"end":return e.stop()}}),e)}))));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:i,value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N(this.context.commit,Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.post("/schedule",null,{params:{start:t.toUTCString()}});case 2:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:d,value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N(this.context.commit,Object(l["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.get("/schedule",{params:{start:t.toISOString()}});case 2:r=e.sent,r.data&&n.context.commit(F.SET_SCHEDULE,r.data);case 4:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:b,value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t,n,a,c=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N(this.context.commit,Object(l["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.get("/store");case 2:t=e.sent,n=t.data.map((function(e){var t=e.storeHours.map((function(e){return Object(q["a"])(Object(q["a"])({},e),{},{day:Object(q["a"])(Object(q["a"])({},e.day),{},{start:e.day.start,end:e.day.end})})}));return Object(q["a"])(Object(q["a"])({},e),{},{storeHours:t})})),c.context.commit(r.SET_DATA,n[0]);case 5:case"end":return e.stop()}}),e)}))));case 2:t=new Date,n=t.getDay(),a=new Date,0!==n&&a.setDate(a.getDate()-n),this.context.dispatch(P.UPDATE_SCHEDULE,a);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:O,value:function(e){throw new Error("Method not implemented.")}},{key:j,value:function(e){throw new Error("Method not implemented.")}},{key:h,value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N(this.context.commit,{method:"PUT",url:"/store/changename/".concat(t.id),data:{name:t.name}});case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:y,value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N(this.context.commit,{method:"POST",url:"/store",data:{name:t}});case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:E,value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N(this.context.commit,Object(l["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.put("/store/changehours/".concat(t.id),t.data);case 2:r=e.sent,console.log(r.data),n.data.storeHours=r.data;case 5:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),w}(V,c.GET_BY_ID,G.GET_STORE_HOURS,G.GET_SCHEDULE,r.REMOVE_DATA,$=F.SET_SCHEDULE,W=P.EDIT_SCHEDULE_ITEM,J=P.GENERATE_SCHEDULE,Z=P.UPDATE_SCHEDULE,z=a.INITIALIZE_DATA,a.UPDATE_DATA,a.DELETE_DATA,Q=P.CHANGE_NAME,K=P.CREATE_STORE,X=P.CHANGE_HOURS);Object(O["b"])([T["c"]],ne.prototype,$,null),Object(O["b"])([T["a"]],ne.prototype,W,null),Object(O["b"])([T["a"]],ne.prototype,"ADD_SCHEDULE_ITEM",null),Object(O["b"])([T["a"]],ne.prototype,"DELETE_SCHEDULE_ITEM",null),Object(O["b"])([T["a"]],ne.prototype,"SET_DEFAULT_SCHEDULE",null),Object(O["b"])([T["a"]],ne.prototype,J,null),Object(O["b"])([T["a"]],ne.prototype,Z,null),Object(O["b"])([T["a"]],ne.prototype,z,null),Object(O["b"])([T["a"]],ne.prototype,Q,null),Object(O["b"])([T["a"]],ne.prototype,K,null),Object(O["b"])([T["a"]],ne.prototype,X,null),ne=Object(O["b"])([Object(T["b"])({namespaced:!0,name:"store"})],ne);var re,ae=ne,ce=function(e,t,n,a,c,o){Object(p["a"])(i,e);var u=Object(v["a"])(i);function i(){var e;return Object(f["a"])(this,i),e=u.apply(this,arguments),e.data=[],e}return Object(m["a"])(i,[{key:t,get:function(){var e=this;return function(t){return Object(x["a"])((function(){return e.data.find((function(e){return e.id===t}))}))}}},{key:"GET_BY_DAY",get:function(){var e=this;return function(t){return Object(x["a"])((function(){return e.data.filter((function(e){return e.day.day===t}))||[]}))}}},{key:n,value:function(e){throw new Error("Method not implemented.")}},{key:a,value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N(this.context.commit,{url:"/schedule/rules"});case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"ADD_SCHEDULE_RULE",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N(this.context.commit,Object(l["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.post("/schedule/rules",t);case 2:a=e.sent,(r=n.data).push.apply(r,Object(H["a"])(a.data));case 4:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"DELETE_SCHEDULE_RULE",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N(this.context.commit,Object(l["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.delete("/schedule/rules/".concat(t));case 2:a=e.sent,a.status<300&&n.context.commit(r.SET_DATA,n.data.filter((function(e){return e.id!==t})));case 4:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:c,value:function(e){}},{key:o,value:function(e){}}]),i}(V,c.GET_BY_ID,r.REMOVE_DATA,re=a.INITIALIZE_DATA,a.UPDATE_DATA,a.DELETE_DATA);Object(O["b"])([T["a"]],ce.prototype,re,null),Object(O["b"])([T["a"]],ce.prototype,"ADD_SCHEDULE_RULE",null),Object(O["b"])([T["a"]],ce.prototype,"DELETE_SCHEDULE_RULE",null),ce=Object(O["b"])([Object(T["b"])({namespaced:!0,name:"scheduleRule"})],ce);var oe,ue=ce,le=function(e,t,n,r,a,c){Object(p["a"])(u,e);var o=Object(v["a"])(u);function u(){var e;return Object(f["a"])(this,u),e=o.apply(this,arguments),e.data={timeoff:[]},e}return Object(m["a"])(u,[{key:t,get:function(){return function(e){return Object(x["a"])((function(){}))}}},{key:"ALL_TIMEOFFS",get:function(){return this.data.timeoff}},{key:"TIMEOFF_BY_PERSON",get:function(){var e=this;return function(t){return Object(x["a"])((function(){return e.data.timeoff.filter((function(e){return e.person===t}))}))}}},{key:"TIMEOFF_BY_ID",get:function(){var e=this;return function(t){return e.data.timeoff.find((function(e){return e.id===t}))}}},{key:"REQUEST_IS_PENDING",get:function(){var e=this;return function(t){var n=e.TIMEOFF_BY_ID(t);return null===n.isApproved||void 0===n.isApproved}}},{key:n,value:function(e){throw new Error("Method not implemented.")}},{key:r,value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N(this.context.commit,Object(l["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.get("/request/timeoff");case 2:r=e.sent,t.data.timeoff=null!==(n=r.data)&&void 0!==n?n:[];case 4:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"SUBMIT_TIMEOFF",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N(this.context.commit,Object(l["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.post("/request/timeoff",t);case 2:r=e.sent,r.data&&n.data.timeoff.push(r.data);case 4:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"APPROVE_TIMEOFF",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N(this.context.commit,Object(l["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.put("/request/timeoff/approve",t);case 2:r=n.data.timeoff.findIndex((function(e){return e.id===t.id})),n.data.timeoff[r]=Object(q["a"])(Object(q["a"])({},n.data.timeoff[r]),{},{isApproved:"approve"===t.action});case 4:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:a,value:function(e){}},{key:c,value:function(e){}}]),u}(V,c.GET_BY_ID,r.REMOVE_DATA,oe=a.INITIALIZE_DATA,a.UPDATE_DATA,a.DELETE_DATA);Object(O["b"])([T["a"]],le.prototype,oe,null),Object(O["b"])([T["a"]],le.prototype,"SUBMIT_TIMEOFF",null),Object(O["b"])([T["a"]],le.prototype,"APPROVE_TIMEOFF",null),le=Object(O["b"])([Object(T["b"])({namespaced:!0,name:"request"})],le);var ie,de,se,be=le,fe=function(e,t,n,a,c,o,u){Object(p["a"])(d,e);var i=Object(v["a"])(d);function d(){var e;return Object(f["a"])(this,d),e=i.apply(this,arguments),e.data={},e}return Object(m["a"])(d,[{key:t,get:function(){return function(e){return Object(x["a"])((function(){}))}}},{key:"ROLE",get:function(){var e;return null===(e=this.data)||void 0===e?void 0:e.role}},{key:"USER",get:function(){if(this.data.user&&"admin"!==this.data.user){var e=this.context.rootGetters["person/GET_BY_ID"](this.data.user).value;return e.firstName+" "+e.lastName}return"admin"===this.data.user?"Admin":""}},{key:"USER_ID",get:function(){var e,t;return null!==(e=null===(t=this.data)||void 0===t?void 0:t.user)&&void 0!==e?e:""}},{key:"IS_ADMIN",get:function(){var e;return"admin"===(null===(e=this.data)||void 0===e?void 0:e.role)}},{key:n,value:function(e){this.data=e}},{key:a,value:function(e){}},{key:c,value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N(this.context.commit,{method:"get",url:"/auth"});case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:o,value:function(e){this.context.commit(r.UPDATE_DATA,e)}},{key:u,value:function(e){}}]),d}(V,c.GET_BY_ID,ie=r.UPDATE_DATA,r.REMOVE_DATA,de=a.INITIALIZE_DATA,se=a.UPDATE_DATA,a.DELETE_DATA);Object(O["b"])([T["c"]],fe.prototype,ie,null),Object(O["b"])([T["a"]],fe.prototype,de,null),Object(O["b"])([T["a"]],fe.prototype,se,null),fe=Object(O["b"])([Object(T["b"])({namespaced:!0,name:"auth"})],fe);var me=fe,pe=Symbol(),ve=Object(b["a"])({modules:{person:Y,store:ae,jobTitle:U,scheduleRule:ue,auth:me,request:be}});function Oe(){return Object(b["b"])(pe)}var je=n("9c2b");Object(u["pushScopeId"])("data-v-5b7dcc60");var he={class:"w-full px-1 py-2 bg-gradient-to-r from-purple-600 to-red-400 flex justify-center"},ye={class:"max-w-screen-2xl w-full flex flex-row justify-center gap-3 px-10"},Ee={class:"flex-grow flex place-items-center"},ke={class:"text-gray-100 font-bold"};Object(u["popScopeId"])();var we=Object(u["defineComponent"])({setup:function(e){var t=Object(je["f"])(),n=Object(T["e"])(me,Oe()),r=t.getRoutes().filter((function(e){return 0===Object.keys(e.meta).length||!0===e.meta.show||e.meta.show===n.ROLE})),a=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.get("/auth/logout");case 2:n.UPDATE_DATA({user:void 0,role:void 0}),t.push("/");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return function(e,t){var c=Object(u["resolveComponent"])("router-link");return Object(u["openBlock"])(),Object(u["createElementBlock"])("div",he,[Object(u["createElementVNode"])("nav",ye,[Object(u["createElementVNode"])("div",Ee,[Object(u["createElementVNode"])("span",ke,Object(u["toDisplayString"])(Object(u["unref"])(n).USER),1)]),(Object(u["openBlock"])(!0),Object(u["createElementBlock"])(u["Fragment"],null,Object(u["renderList"])(Object(u["unref"])(r),(function(e){return Object(u["openBlock"])(),Object(u["createBlock"])(c,{key:e.path,to:e.path},{default:Object(u["withCtx"])((function(){var t;return[Object(u["createTextVNode"])(Object(u["toDisplayString"])(null===(t=e.name)||void 0===t?void 0:t.valueOf().toString().pascalToWords()),1)]})),_:2},1032,["to"])})),128)),Object(u["createElementVNode"])("div",{class:"flex-grow flex place-items-center justify-end"},[Object(u["createElementVNode"])("a",{href:"#",onClick:a},"Logout")])])])}}});n("1eab");we.__scopeId="data-v-5b7dcc60";var ge=we,xe={class:"w-screen max-w-screen-2xl mx-auto p-10 font-sans"},Te=Object(u["defineComponent"])({setup:function(e){var t=Object(T["e"])(Y,Oe()),n=Object(T["e"])(ae,Oe()),r=Object(T["e"])(U,Oe()),a=Object(T["e"])(ue,Oe()),c=Object(T["e"])(me,Oe()),l=Object(je["e"])(),i=Object(je["f"])(),d=Object(x["n"])(!1);i.afterEach((function(e,t,n){Object(je["d"])(n)&&Object(je["d"])(je["a"].duplicated)||(d.value=!0)}));var s=Object(x["a"])((function(){var e;return(null===(e=l.meta.showNav)||void 0===e||e)&&d.value}));return Object(x["q"])((function(){t.GET_STATUS.value===o.IDLE&&t.INITIALIZE_DATA(),n.GET_STATUS.value===o.IDLE&&n.INITIALIZE_DATA(),r.GET_STATUS.value===o.IDLE&&r.INITIALIZE_DATA(),a.GET_STATUS.value===o.IDLE&&a.INITIALIZE_DATA(),c.GET_STATUS.value===o.IDLE&&c.INITIALIZE_DATA()})),function(e,t){var n=Object(u["resolveComponent"])("router-view");return Object(u["openBlock"])(),Object(u["createElementBlock"])("div",null,[Object(u["unref"])(s)?(Object(u["openBlock"])(),Object(u["createBlock"])(ge,{key:0})):Object(u["createCommentVNode"])("",!0),Object(u["createElementVNode"])("main",xe,[Object(u["createVNode"])(n)])])}}}),Ve=Te,Ne=n("d5f8"),Ae=n("1db1"),_e=(n("e94e"),n("b506"),n("88a1"),n("2aa5"),n("58d3"),n("8b85"),n("11ed"),n("2b4e")),De=n("4bea"),Se=["viewBox"],Ie=["d"],Ce=Object(u["defineComponent"])({props:{icon:{type:null,required:!0},type:{type:null,required:!1,default:"fas"}},setup:function(e){var t=e,n=Object(Ne["c"])((function(){return"string"===typeof t.icon?Object(De["a"])({prefix:t.type,iconName:t.icon}):t.icon})),r=Object(Ne["c"])((function(){return n.value.icon[0]})),a=Object(Ne["c"])((function(){return n.value.icon[1]})),c=Object(Ne["c"])((function(){return n.value.icon[4]}));return function(e,t){return Object(u["openBlock"])(),Object(u["createElementBlock"])("svg",Object(u["mergeProps"])({class:"w-4 overflow-visible inline",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(Object(u["unref"])(r)," ").concat(Object(u["unref"])(a))},e.$attrs),[Object(u["createElementVNode"])("path",{fill:"currentColor",d:Object(u["unref"])(c)},null,8,Ie)],16,Se)}}}),Re=Ce;Object(u["pushScopeId"])("data-v-35f6a4c8");var Be=["placeholder","autofocus","type","value"],Le={key:2,class:"absolute bottom-1 right-1 text-gray-400 svg"},Ue=Object(u["createElementVNode"])("svg",{class:"fill-current h-4 w-4 transition duration-150 ease-in-out",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[Object(u["createElementVNode"])("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),He=[Ue],Me={key:0,class:"text-sm invalid"};Object(u["popScopeId"])();var Pe=Object(u["defineComponent"])({props:{showLabel:{type:Boolean,required:!1,default:!0},modelValue:{type:[String,Number],required:!0,default:""},placeholder:{type:String,required:!1},invalid:{type:Boolean,required:!1,default:!1},errorText:{type:String,required:!1,default:"This is invalid."},autofocus:{type:Boolean,required:!1,default:!1},inputMode:{type:String,required:!1,default:"text"},type:{type:String,required:!1,default:"text"}},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,r=e,a=Object(x["n"])(!1),c=Object(x["n"])(),o=Object(x["a"])((function(){return"dropdown"!==r.inputMode})),l=Object(x["a"])((function(){return"dropdown"===r.inputMode||"datalist"===r.inputMode})),i=function(e){var t=e.relatedTarget;t===c.value||c.value.contains(t)||(a.value=!1)},d=function(e){a.value=!0},s=function(e){n("update:modelValue",e.target.value)},b=function(e){o.value||e.preventDefault()};return function(t,n){return Object(u["openBlock"])(),Object(u["createElementBlock"])("div",{class:"w-full",tabindex:"-1",ref:function(e,t){t["wrapper"]=e,c.value=e},onFocusout:i},[Object(u["createElementVNode"])("div",{class:Object(u["normalizeClass"])(["relative border-b-2 h-10 w-full focus-within:border-blue-500",{"border-danger focus-within:border-danger":e.invalid}]),tabindex:"-1"},[Object(u["createElementVNode"])("input",Object(u["mergeProps"])({class:["absolute bottom-0 block w-full appearance-none focus:outline-none bg-transparent",[{"placeholder-transparent":e.showLabel},{dropdown:!Object(u["unref"])(o)}]],placeholder:e.placeholder,autofocus:e.autofocus,type:r.type,value:e.modelValue},t.$attrs,{onInput:s,onFocus:d,onKeypress:b}),null,16,Be),e.placeholder&&e.showLabel?(Object(u["openBlock"])(),Object(u["createElementBlock"])("label",{key:0,class:Object(u["normalizeClass"])(["absolute bottom-0 origin-0 duration-300 -z-1 truncate max-w-full text-gray-400",[{active:a.value||""!==e.modelValue},{filled:a.value&&""!==e.modelValue},{invalid:e.invalid}]]),tabindex:"-1"},Object(u["toDisplayString"])(e.placeholder),3)):Object(u["createCommentVNode"])("",!0),Object(u["unref"])(l)?(Object(u["openBlock"])(),Object(u["createElementBlock"])("div",{key:1,class:Object(u["normalizeClass"])(["absolute top-11 z-10 overflow-hidden transform-gpu transition ease-in-out origin-top-left duration-200 scale-0 box-border",{"scale-100":a.value}])},[Object(u["renderSlot"])(t.$slots,"dropdown",{hide:function(){return a.value=!1},show:function(){return a.value=!0}})],2)):Object(u["createCommentVNode"])("",!0),Object(u["unref"])(l)?(Object(u["openBlock"])(),Object(u["createElementBlock"])("span",Le,He)):Object(u["createCommentVNode"])("",!0)],2),e.invalid?(Object(u["openBlock"])(),Object(u["createElementBlock"])("span",Me,Object(u["toDisplayString"])(e.errorText),1)):Object(u["createCommentVNode"])("",!0)],544)}}});n("8f06");Pe.__scopeId="data-v-35f6a4c8";var Ge=Pe,Fe=["id"],Ye=["_metadata"],qe=["_metadata","id"],$e={key:0,class:"my-3 flex justify-around items-end"},We={class:"flex-grow flex gap-3"},Je={key:0,style:{width:"15rem","max-width":"100%"}},Ze={class:"border-t border-b border-on-primary"},ze=["onClick"],Qe={class:"flex justify-center items-center"},Ke={class:"flex-grow"},Xe=["onClick"],et={key:0,class:"w-16"},tt={key:0,class:"flex gap-2 content-center px-2"},nt={key:1,class:"flex gap-2 content-center px-2"},rt={key:2,class:"flex gap-2 content-center px-2"},at={key:1},ct={key:2,class:"my-2 flex flex-nowrap justify-end"},ot=["disabled","onClick"],ut=Object(u["defineComponent"])({props:{modelValue:{type:Array,required:!0},key:{type:String,required:!1,default:"id"},cols:{type:Array,required:!1},pagination:{type:Boolean,required:!1,default:!0},rowsPerPage:{type:Number,required:!1,default:10},searchable:{type:Boolean,required:!1,default:!0},editable:{type:Boolean,required:!1,default:!0},deletable:{type:[Boolean,Function],required:!1,default:!0},selectableRow:{type:Boolean,required:!1}},emits:["update:modelValue","update","rowSelect"],setup:function(e,t){var n=t.emit,r=e,a=Object(Ne["r"])({}),c=Object(Ne["r"])(1),o=Object(Ne["r"])([]),l=Object(Ne["r"])(""),i=Object(Ne["r"])({}),d=Object(Ne["c"])((function(){return r.modelValue.length>0})),s=Object(Ne["c"])((function(){if(d.value){var e,t=(null===(e=r.cols)||void 0===e?void 0:e.reduce((function(e,t){var n=t.id,r=Object(Ae["a"])(t,Fe);return e[n]=r,e}),{}))||{},n=Object.keys(r.modelValue[0]).map((function(e){var n=Object(q["a"])({id:e,name:e.pascalToWords(),show:e!==r.key,sortable:!0,editable:!0,dataType:null,sortFunc:function(e,t){var n="number"===typeof e&&"number"===typeof t?e-t:e.toString().localeCompare(t.toString());return n},validationFunc:function(e){return!0}},t[e]);return n})).filter((function(e){return e.show}));return n}return[]})),b=Object(Ne["c"])((function(){if(d.value){var e=o.value;if(i.value.by||(i.value.by=s.value[0].id),i.value.order||(i.value.order="asc"),i.value.by&&(e=e.sort((function(e,t){try{var n,r=e[i.value.by],a=t[i.value.by];if(void 0===r||void 0===a)throw new Error;var c=null===(n=s.value.find((function(e){return e.id===i.value.by})))||void 0===n?void 0:n.sortFunc;if(!c)throw new Error;var o=c(r,a);return"asc"===i.value.order?o:-1*o}catch(u){return 0}}))),l.value){var t=new RegExp(l.value,"i");e=e.filter((function(e){for(var n=Object.keys(e),r=0,a=n;r<a.length;r++){var c,o=a[r];if(null!==(c=e[o])&&void 0!==c&&c.toString().match(t))return!0}return!1}))}return p&&(e=e.filter((function(e,t){var n=(c.value-1)*r.rowsPerPage,a=c.value*r.rowsPerPage;return t>=n&&t<a}))),e}return[]})),f=Object(Ne["c"])((function(){return Math.ceil(r.modelValue.length/r.rowsPerPage)||0})),m=Object(Ne["c"])((function(){var e=Array(o.value.length<r.rowsPerPage?1:f.value).fill(0).map((function(e,t){return t+1}));return e.unshift("<<","<"),e.push(">",">>"),e})),p=Object(Ne["c"])((function(){return r.modelValue.length>r.rowsPerPage})),v=function(e,t){var r=o.value.map((function(e){e._metadata;var t=Object(Ae["a"])(e,Ye);return t}));n("update:modelValue",r),n("update",{type:t,item:e})},O=function(){o.value=r.modelValue.map((function(e){return Object(q["a"])(Object(q["a"])({},e),{},{_metadata:{edit:!1,delete:!1}})}))},j=function(e){var t=o.value.find((function(t){return t.id===e}));t._metadata.edit=!0;t._metadata;var n=t.id,r=Object(Ae["a"])(t,qe);a.value[n]=r},h=function(e){"number"===typeof e?c.value=e:"<"===e&&c.value>1?c.value--:">"===e&&c.value<f.value?c.value++:"<<"===e?c.value=1:">>"===e&&(c.value=f.value)},y=function(e){for(var t=a.value[e],n=!0,r=function(){var e=u[c],r=s.value.find((function(t){return t.id===e}));if(!r.validationFunc(t[e]))return n=!1,"break"},c=0,u=Object.keys(t);c<u.length;c++){var l=r();if("break"===l)break}if(E(e),n){var i=o.value.findIndex((function(t){return t.id===e}));o.value[i]=Object(q["a"])(Object(q["a"])({},o.value[i]),t),v(o.value[i],"edit")}},E=function(e){delete a.value[e],o.value.find((function(t){return t.id===e}))._metadata.edit=!1},k=function(e){var t=o.value.find((function(t){return t.id===e}));t._metadata.delete=!0},w=function(e){var t=o.value.findIndex((function(t){return t.id===e})),n=o.value[t];o.value.splice(t,1),v(n,"delete")},g=function(e){var t=o.value.find((function(t){return t.id===e}));t._metadata.delete=!1},x=function(e){i.value.by===e?i.value.order="asc"===i.value.order?"dsc":"asc":i.value={by:e,order:"asc"}},T=function(e,t){n("rowSelect",t)};return Object(u["watch"])((function(){return s.value}),(function(){var e;i.value={by:s.value&&(null===(e=s.value.find((function(e){return e.sortable})))||void 0===e?void 0:e.id)||"",order:"asc"}})),Object(u["watch"])((function(){return r.modelValue}),O),Object(_e["mb"])((function(){O()})),function(t,n){return Object(u["openBlock"])(),Object(u["createElementBlock"])(u["Fragment"],null,[e.searchable?(Object(u["openBlock"])(),Object(u["createElementBlock"])("div",$e,[Object(u["createElementVNode"])("div",We,[Object(u["renderSlot"])(t.$slots,"toolbar")]),Object(u["unref"])(d)?(Object(u["openBlock"])(),Object(u["createElementBlock"])("div",Je,[Object(u["createVNode"])(Ge,{modelValue:l.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return l.value=e}),placeholder:"Search"},null,8,["modelValue"])])):Object(u["createCommentVNode"])("",!0)])):Object(u["createCommentVNode"])("",!0),Object(u["unref"])(d)?(Object(u["openBlock"])(),Object(u["createElementBlock"])("table",Object(u["mergeProps"])({key:1,class:"w-full"},t.$attrs),[Object(u["createElementVNode"])("thead",null,[Object(u["createElementVNode"])("tr",Ze,[(Object(u["openBlock"])(!0),Object(u["createElementBlock"])(u["Fragment"],null,Object(u["renderList"])(Object(u["unref"])(s),(function(e){return Object(u["openBlock"])(),Object(u["createElementBlock"])("th",{class:"py-2 px-3 cursor-pointer",key:e.id,onClick:function(t){return x(e.id)}},[Object(u["createElementVNode"])("div",Qe,[Object(u["createElementVNode"])("span",Ke,Object(u["toDisplayString"])(e.name),1),Object(u["createElementVNode"])("div",{class:Object(u["normalizeClass"])(["",i.value.by===e.id?" text-on-primary-high":"text-on-primary-low"])},[i.value.by===e.id&&"dsc"===i.value.order?(Object(u["openBlock"])(),Object(u["createBlock"])(Re,{key:0,icon:"sort-alpha-down-alt"})):(Object(u["openBlock"])(),Object(u["createBlock"])(Re,{key:1,icon:"sort-alpha-up"}))],2)])],8,ze)})),128))])]),Object(u["createElementVNode"])("tbody",null,[(Object(u["openBlock"])(!0),Object(u["createElementBlock"])(u["Fragment"],null,Object(u["renderList"])(Object(u["unref"])(b),(function(n,r){return Object(u["openBlock"])(),Object(u["createElementBlock"])("tr",{class:Object(u["normalizeClass"])(["even:bg-gray-200 text-center",{"cursor-pointer hover:bg-primary-light":e.selectableRow}]),onClick:function(t){return T(t,n[e.key])},key:n[e.key]},[(Object(u["openBlock"])(!0),Object(u["createElementBlock"])(u["Fragment"],null,Object(u["renderList"])(Object(u["unref"])(s),(function(e){return Object(u["openBlock"])(),Object(u["createElementBlock"])("td",{class:"py-3",key:e.id},[n._metadata.edit&&e.editable?Object(u["renderSlot"])(t.$slots,"editor",{key:0,cache:a.value,row:n,col:e},(function(){return[Object(u["createVNode"])(Ge,{class:"px-2","model-value":n[e.id],type:"number"===typeof n[e.id]?"number":"text","onUpdate:modelValue":function(t){return a.value[n.id][e.id]=t}},null,8,["model-value","type","onUpdate:modelValue"])]})):Object(u["renderSlot"])(t.$slots,e.id,{key:1,data:n[e.id]},(function(){return[Object(u["createElementVNode"])("span",null,Object(u["toDisplayString"])(n[e.id]),1)]}))])})),128)),!e.editable&&"boolean"!==typeof e.deletable||e.deletable?(Object(u["openBlock"])(),Object(u["createElementBlock"])("td",et,[n._metadata.edit?(Object(u["openBlock"])(),Object(u["createElementBlock"])("div",tt,[Object(u["createVNode"])(Re,{class:"cursor-pointer text-success",icon:"check-circle",type:"far",onClick:function(t){return y(n[e.key])}},null,8,["onClick"]),Object(u["createVNode"])(Re,{class:"cursor-pointer text-danger",icon:"times-circle",type:"far",onClick:function(t){return E(n[e.key])}},null,8,["onClick"])])):Object(u["createCommentVNode"])("",!0),n._metadata.delete?(Object(u["openBlock"])(),Object(u["createElementBlock"])("div",nt,[Object(u["createVNode"])(Re,{class:"cursor-pointer text-danger",icon:"trash-alt",onClick:function(t){return w(n[e.key])}},null,8,["onClick"]),Object(u["createVNode"])(Re,{class:"cursor-pointer",icon:"times-circle",type:"far",onClick:function(t){return g(n[e.key])}},null,8,["onClick"])])):Object(u["createCommentVNode"])("",!0),n._metadata.edit||n._metadata.delete?Object(u["createCommentVNode"])("",!0):(Object(u["openBlock"])(),Object(u["createElementBlock"])("div",rt,[e.editable?(Object(u["openBlock"])(),Object(u["createBlock"])(Re,{key:0,class:"cursor-pointer",icon:"edit",type:"far",onClick:function(t){return j(n[e.key])}},null,8,["onClick"])):Object(u["createCommentVNode"])("",!0),("boolean"===typeof e.deletable?e.deletable:e.deletable(e.modelValue.find((function(t){return t[e.key]===n[e.key]}))))?(Object(u["openBlock"])(),Object(u["createBlock"])(Re,{key:1,class:"cursor-pointer",icon:"trash-alt",type:"far",onClick:function(t){return k(n[e.key])}},null,8,["onClick"])):Object(u["createCommentVNode"])("",!0)]))])):Object(u["createCommentVNode"])("",!0),t.$slots["after"]?(Object(u["openBlock"])(),Object(u["createElementBlock"])("td",at,[Object(u["renderSlot"])(t.$slots,"after",{data:n[e.key]})])):Object(u["createCommentVNode"])("",!0)],10,Xe)})),128))])],16)):Object(u["createCommentVNode"])("",!0),Object(u["unref"])(p)?(Object(u["openBlock"])(),Object(u["createElementBlock"])("div",ct,[(Object(u["openBlock"])(!0),Object(u["createElementBlock"])(u["Fragment"],null,Object(u["renderList"])(Object(u["unref"])(m),(function(e){return Object(u["openBlock"])(),Object(u["createElementBlock"])("button",{class:Object(u["normalizeClass"])(["btn py-1 px-3 m-0 border border-r-0 rounded-none bg-transparent first:rounded-l last:border-r last:rounded-r disabled:bg-transparent disabled:border-gray-400 disabled:opacity-60 disabled:text-on-primary-low",[c.value===e?"bg-primary text-on-secondary-high":"border-on-primary text-on-primary-high",{"hover:bg-primary hover:text-on-secondary-high":"<<"===e&&1===c.value||">>"===e&&c.value===Object(u["unref"])(f)}]]),disabled:("<<"===e||"<"===e)&&1===c.value||(">>"===e||">"===e)&&c.value===Object(u["unref"])(f),key:e,onClick:function(t){return h(e)}},Object(u["toDisplayString"])(e),11,ot)})),128))])):Object(u["createCommentVNode"])("",!0)],64)}}}),lt=ut,it=(n("defa0"),["disabled"]),dt={key:0},st=Object(u["defineComponent"])({props:{href:{type:String,required:!1},disabled:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,required:!1,default:!1},loadingText:{type:String,required:!1,default:"Loading..."}},emits:["click"],setup:function(e,t){var n=t.emit,r=e,a=Object(je["f"])(),c=Object(u["computed"])((function(){return function(e){n("click",e),r.href&&(r.href.startsWith("/")?a.push(r.href):window.location.href=r.href)}})),o=Object(u["computed"])((function(){return r.disabled||r.loading}));return function(t,n){return Object(u["openBlock"])(),Object(u["createElementBlock"])("button",Object(u["mergeProps"])({class:"btn btn-primary"},t.$attrs,{disabled:Object(u["unref"])(o),onClick:n[0]||(n[0]=function(){return Object(u["unref"])(c)&&Object(u["unref"])(c).apply(void 0,arguments)})}),[e.loading?(Object(u["openBlock"])(),Object(u["createElementBlock"])("span",dt,Object(u["toDisplayString"])(e.loadingText),1)):Object(u["renderSlot"])(t.$slots,"default",{key:1})],16,it)}}}),bt=st,ft={className:"flex justify-between"},mt=Object(u["createElementVNode"])("h1",null,"Employees",-1),pt=Object(u["createTextVNode"])("Create New"),vt=Object(u["defineComponent"])({setup:function(e){var t=Object(T["e"])(Y,Oe()),n=[{name:"Max Hours",id:"maxWeeklyHours"}],r=Object(Ne["c"])((function(){return t.GET_ALL.value.map((function(e){return{id:e.id,firstName:e.firstName,lastName:e.lastName,role:e.role,jobTitle:e.jobTitle.name,maxWeeklyHours:e.maxWeeklyHours}}))}));return function(e,t){return Object(u["openBlock"])(),Object(u["createElementBlock"])("div",null,[Object(u["createElementVNode"])("div",ft,[mt,Object(u["createVNode"])(bt,{href:"/employees/new"},{default:Object(u["withCtx"])((function(){return[pt]})),_:1})]),Object(u["unref"])(r).length>0?(Object(u["openBlock"])(),Object(u["createBlock"])(lt,{cols:n,modelValue:Object(u["unref"])(r),"onUpdate:modelValue":t[0]||(t[0]=function(e){return Object(u["isRef"])(r)?r.value=e:null}),key:"id",selectableRow:!0,editable:!1,deletable:!1,onRowSelect:t[1]||(t[1]=function(t){return e.$router.push("/employees/".concat(t))})},null,8,["modelValue"])):Object(u["createCommentVNode"])("",!0)])}}}),Ot=vt,jt=(n("62c8"),n("8d0d"),n("c78b"),n("63e5")),ht={class:"border-2 rounded-md bg-white w-full"},yt=["onClick"],Et=Object(u["defineComponent"])({props:{allowNull:{type:Boolean,required:!1,default:!0},options:{type:Array,required:!1},modelValue:{type:String,required:!1,default:""},placeholder:{type:String,required:!1,default:"Select an option"}},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,r=e,a=Object(u["ref"])(void 0),c=Object(u["computed"])((function(){return r.options&&r.options.length>0?r.options.map((function(e){return"string"===typeof e?{value:e,text:e}:{value:e.value,text:e.text||e.value}})):[]})),o=function(e){e&&(a.value=e,n("update:modelValue",e.value))};return Object(u["watchEffect"])((function(){a.value=c.value.find((function(e){return e.value===r.modelValue}))})),function(t,n){return Object(u["openBlock"])(),Object(u["createBlock"])(Ge,Object(u["mergeProps"])({inputMode:"dropdown",placeholder:e.placeholder,modelValue:a.value?a.value.text:""},t.$attrs),{dropdown:Object(u["withCtx"])((function(e){var t=e.hide;return[Object(u["createElementVNode"])("ul",ht,[(Object(u["openBlock"])(!0),Object(u["createElementBlock"])(u["Fragment"],null,Object(u["renderList"])(Object(u["unref"])(c),(function(e){return Object(u["openBlock"])(),Object(u["createElementBlock"])("li",{class:"py-1 px-2 hover:bg-blue-400 border-b-2 last:border-0 cursor-pointer",key:e.value,onClick:function(n){o(e),t()}},Object(u["toDisplayString"])(e.text),9,yt)})),128))])]})),_:1},16,["placeholder","modelValue"])}}}),kt=Et,wt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],gt=wt,xt=n("c438"),Tt=n("ecc1"),Vt=(n("918c"),n("360b")),Nt=n("215b"),At={class:"table-fixed w-full max-w-sm"},_t=Object(u["createElementVNode"])("thead",null,[Object(u["createElementVNode"])("tr",null,[Object(u["createElementVNode"])("th"),Object(u["createElementVNode"])("th",null,"Start"),Object(u["createElementVNode"])("th",null,"End")])],-1),Dt={class:"flex justify-end gap-3 mt-3"},St=Object(u["createTextVNode"])("Cancel"),It=Object(u["createTextVNode"])("Save"),Ct=Object(u["defineComponent"])({props:{visible:{type:Boolean,required:!0}},emits:["update:visible"],setup:function(e,t){var n=t.emit,r=e,a=Object(T["e"])(Y,Oe()),c=Object(je["e"])(),o=Object(u["ref"])(Object(H["a"])(Array(7).keys()).map((function(e){return{start:void 0,end:void 0}}))),i=Object(u["ref"])(r.visible),d=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.preventDefault(),r=o.value.map((function(e,t){return{day:t,start:e.start&&te()(e.start).format("HH:mm"),end:e.end&&te()(e.end).format("HH:mm")}})).filter((function(e){return e.start&&e.end})),e.next=4,a.ADD_AVAILABILITY({personId:c.params.id,availabilities:r});case 4:o.value=Object(H["a"])(Array(7).keys()).map((function(e){return{start:void 0,end:void 0}})),n("update:visible",!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u["watch"])(i,(function(){n("update:visible",i.value)})),Object(u["watch"])((function(){return r.visible}),(function(){i.value=r.visible})),function(e,t){return Object(u["openBlock"])(),Object(u["createBlock"])(Object(u["unref"])(Vt["a"]),{modal:!0,header:"Add Availability",draggable:!1,"dismissable-mask":!0,"keep-in-view-port":!0,"min-x":0,"min-y":0,visible:i.value,"onUpdate:visible":t[0]||(t[0]=function(e){return i.value=e})},{default:Object(u["withCtx"])((function(){return[Object(u["createElementVNode"])("form",{onSubmit:d},[Object(u["createElementVNode"])("table",At,[_t,Object(u["createElementVNode"])("tbody",null,[(Object(u["openBlock"])(!0),Object(u["createElementBlock"])(u["Fragment"],null,Object(u["renderList"])(Object(u["unref"])(gt),(function(e,t){return Object(u["openBlock"])(),Object(u["createElementBlock"])("tr",{key:e},[Object(u["createElementVNode"])("th",null,Object(u["toDisplayString"])(e),1),Object(u["createElementVNode"])("td",null,[Object(u["createVNode"])(Object(u["unref"])(Nt["a"]),{modelValue:o.value[t].start,"onUpdate:modelValue":function(e){return o.value[t].start=e},"show-time":!0,"hour-format":"12","time-only":!0,"step-minute":15,placeholder:"09:00 AM"},null,8,["modelValue","onUpdate:modelValue"])]),Object(u["createElementVNode"])("td",null,[Object(u["createVNode"])(Object(u["unref"])(Nt["a"]),{modelValue:o.value[t].end,"onUpdate:modelValue":function(e){return o.value[t].end=e},"show-time":!0,"hour-format":"12","time-only":!0,"step-minute":15,placeholder:"06:00 PM"},null,8,["modelValue","onUpdate:modelValue"])])])})),128))])]),Object(u["createElementVNode"])("div",Dt,[Object(u["createVNode"])(bt,{class:"btn-danger"},{default:Object(u["withCtx"])((function(){return[St]})),_:1}),Object(u["createVNode"])(bt,{type:"submit"},{default:Object(u["withCtx"])((function(){return[It]})),_:1})])],32)]})),_:1},8,["visible"])}}}),Rt=Ct,Bt=(n("b55a"),n("76f9")),Lt=n.n(Bt),Ut=n("68f9"),Ht=n.n(Ut),Mt=n("2edb"),Pt=n.n(Mt),Gt=n("ba9c"),Ft=n.n(Gt);function Yt(){te.a.extend(Lt.a),te.a.extend(Ht.a),te.a.extend(Pt.a),te.a.extend(Ft.a)}function qt(e){return te()(e,["HH:mm","HH:mm:ss"]).format("hh:mm A")}function $t(e,t){return e.isBefore(t)?-1:e.isAfter(t)?1:0}function Wt(e,t){var n=gt.findIndex((function(t){return t.toLowerCase().trim()===e.toLowerCase().trim()})),r=gt.findIndex((function(e){return e.toLowerCase().trim()===t.toLowerCase().trim()}));return n-r}var Jt=Yt,Zt={AB:"Alberta",BC:"British Columbia",MB:"Manitoba",NB:"New Brunswick",NL:"Newfoundland and Labrador",NT:"Northwest Territories",NS:"Nova Scotia",NU:"Nunavut",ON:"Ontario",PE:"Prince Edward Island",QC:"Quebec",SK:"Saskatchewan",YT:"Yukon Territory"},zt=n("e290"),Qt=n("02c3"),Kt={class:"flex justify-between"},Xt=Object(u["createElementVNode"])("h1",null,"Employee Info",-1),en=Object(u["createTextVNode"])("Save"),tn={class:"grid gap-4 grid-cols-4"},nn=Object(u["createElementVNode"])("hr",null,null,-1),rn=Object(u["createElementVNode"])("h1",null,"Availability",-1),an={key:0},cn=Object(u["createTextVNode"])("Add Availability"),on=Object(u["defineComponent"])({setup:function(e){var t=Oe(),n=Object(T["e"])(Y,t),r=Object(T["e"])(U,t),a=Object(T["e"])(me,t),c=(Object(je["f"])(),Object(je["e"])()),o=Object(u["ref"])(!1),i=[{id:"day",editable:!1,sortFunc:function(e,t){return Wt(e,t)}},{id:"start",sortFunc:function(e,t){return $t(te()(e,"hh:mm A"),te()(t,"hh:mm A"))},dataType:"time",validationFunc:function(e){return te()(e,["hh:mm A"]).isValid()}},{id:"end",sortFunc:function(e,t){return $t(te()(e,"hh:mm A"),te()(t,"hh:mm A"))},dataType:"time",validationFunc:function(e){return te()(e,["hh:mm A"]).isValid()}}],d=Object(u["ref"])({id:"",firstName:"",lastName:"",address:"",province:"",postal:"",city:"",jobTitle:"",role:"",pay:"",phone:"",maxWeeklyHours:"",availabilities:[]}),s=Object(zt["b"])(),b=xt["a"].regex(/^\w\w\w\s?\w\w\w$/gi),f=xt["a"].regex(/^\+?1?\d{10}$/gi),m=function(e){return p(parseFloat(e))<=2},p=function(e){return Math.floor(e)!==e&&e.toString().split(".")[1].length||0},v={firstName:{required:xt["b"]},lastName:{required:xt["b"]},address:{required:xt["b"]},province:{required:xt["b"]},postal:{required:xt["b"],postalRegex:b},city:{required:xt["b"]},jobTitle:{required:xt["b"]},role:{required:xt["b"]},pay:{required:xt["b"],wage:m},phone:{required:xt["b"],phoneRegex:f},maxWeeklyHours:{required:xt["b"]}},O=Object(u["ref"])(!1),j=Object(Tt["a"])(v,d,{$autoDirty:!0}),h=Object(Ne["c"])((function(){return"new"===c.params.id})),y=Object(Ne["c"])({get:function(){return d.value.availabilities.map((function(e){return{id:e.id,day:gt[e.day.day],start:qt(e.day.start),end:qt(e.day.end)}}))},set:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var r,a,o,u,l,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.length<y.value.length)){e.next=7;break}return r=t.map((function(e){return e.id})),a=y.value.find((function(e){return!r.includes(e.id)})),e.next=5,n.REMOVE_AVAILABILITY({personId:c.params.id,availability:a.id});case 5:e.next=21;break;case 7:o=y.value,u=void 0,l=0;case 10:if(!(l<o.length)){e.next=17;break}if(o[l].start===t[l].start&&o[l].end===t[l].end){e.next=14;break}return u=l,e.abrupt("break",17);case 14:l++,e.next=10;break;case 17:if(void 0===u){e.next=21;break}return i=t[u],e.next=21,n.EDIT_AVAILABILITY({id:d.value.id,availability:Object(q["a"])(Object(q["a"])({},i),{},{day:gt.findIndex((function(e){return e===i.day}))})});case 21:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}),E=r.GET_ALL.value.map((function(e){return{text:e.name,value:e.id}})).sort((function(e,t){return e.text.localeCompare(t.text)})),k=Object.keys(Zt).map((function(e){return{text:Zt[e],value:e}})),w=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t,r,a,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o.value=!0,t=Object(q["a"])(Object(q["a"])({},d.value),{},{pay:parseFloat(d.value.pay),maxWeeklyHours:parseFloat(d.value.maxWeeklyHours)}),t.id||(t.id=c.params.id),delete t.availabilities,e.next=6,n.EDIT_PERSON(t);case 6:s.add({severity:"info",summary:"Employee updated.",life:3e3}),console.log(t),h.value&&(a=n.GET_ALL.value.find((function(e){return e.firstName===t.firstName&&e.lastName===t.lastName&&e.phone===t.phone})),a&&(r=a),r?(u=r.id,window.location.href="/employees/".concat(u)):console.log("No new person found.")),o.value=!1;case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=n.GET_BY_ID(c.params.id);e.value?d.value=Object(q["a"])(Object(q["a"])({},e.value),{},{pay:e.value.pay.toString()||"",maxWeeklyHours:e.value.maxWeeklyHours.toString()||"",jobTitle:e.value.jobTitle.id}):s.add({severity:"error",summary:"No person found.",detail:"No person found with the given ID ".concat(c.params.id,". If this is an error, please contact your administrator.")})};return Object(_e["ic"])((function(){return c.params.id}),(function(e){"new"!==e&&g()})),Object(_e["mb"])((function(){h.value||g(),h.value&&(d.value={id:"",firstName:"test",lastName:"test",address:"8521 Fusce Rd.",city:"Mount Pearl",province:"NB",postal:"A8P 5P8",role:"PT",pay:17.16.toString(),phone:"5750306830",maxWeeklyHours:11..toString(),jobTitle:"930b2118-4ece-4bdb-9fa8-489b4c0a71ca",availabilities:[]})})),function(e,t){return Object(u["openBlock"])(),Object(u["createElementBlock"])("div",null,[Object(u["createVNode"])(Object(u["unref"])(Qt["a"])),Object(u["createElementVNode"])("div",Kt,[Xt,Object(u["unref"])(a).IS_ADMIN?(Object(u["openBlock"])(),Object(u["createBlock"])(bt,{key:0,onClick:w,disabled:Object(u["unref"])(j).$invalid,loading:o.value},{default:Object(u["withCtx"])((function(){return[en]})),_:1},8,["disabled","loading"])):Object(u["createCommentVNode"])("",!0)]),Object(u["createElementVNode"])("form",null,[Object(u["createElementVNode"])("div",tn,[Object(u["createVNode"])(Ge,{disabled:!Object(u["unref"])(a).IS_ADMIN,class:"col-span-2",placeholder:"First Name",modelValue:d.value.firstName,"onUpdate:modelValue":t[0]||(t[0]=function(e){return d.value.firstName=e}),autofocus:"",invalid:Object(u["unref"])(j).firstName.$error},null,8,["disabled","modelValue","invalid"]),Object(u["createVNode"])(Ge,{disabled:!Object(u["unref"])(a).IS_ADMIN,class:"col-span-2",placeholder:"Last Name",modelValue:d.value.lastName,"onUpdate:modelValue":t[1]||(t[1]=function(e){return d.value.lastName=e})},null,8,["disabled","modelValue"]),Object(u["createVNode"])(Ge,{disabled:!Object(u["unref"])(a).IS_ADMIN,class:"col-span-4",placeholder:"Address",modelValue:d.value.address,"onUpdate:modelValue":t[2]||(t[2]=function(e){return d.value.address=e})},null,8,["disabled","modelValue"]),Object(u["createVNode"])(Ge,{disabled:!Object(u["unref"])(a).IS_ADMIN,class:"col-span-2",placeholder:"City",modelValue:d.value.city,"onUpdate:modelValue":t[3]||(t[3]=function(e){return d.value.city=e})},null,8,["disabled","modelValue"]),Object(u["createVNode"])(kt,{disabled:!Object(u["unref"])(a).IS_ADMIN,class:"col-span-2 md:col-span-1",placeholder:"Province",options:Object(u["unref"])(k),modelValue:d.value.province,"onUpdate:modelValue":t[4]||(t[4]=function(e){return d.value.province=e})},null,8,["disabled","options","modelValue"]),Object(u["createVNode"])(Ge,{disabled:!Object(u["unref"])(a).IS_ADMIN,class:"col-span-1",placeholder:"Postal Code",modelValue:d.value.postal,"onUpdate:modelValue":t[5]||(t[5]=function(e){return d.value.postal=e})},null,8,["disabled","modelValue"]),Object(u["createVNode"])(Ge,{disabled:!Object(u["unref"])(a).IS_ADMIN,class:"col-span-2 md:col-span-1",placeholder:"Phone Number",modelValue:d.value.phone,"onUpdate:modelValue":t[6]||(t[6]=function(e){return d.value.phone=e})},null,8,["disabled","modelValue"]),Object(u["createVNode"])(kt,{disabled:!Object(u["unref"])(a).IS_ADMIN,class:"col-span-2 md:col-span-1",placeholder:"Role",options:["FT","PT"],modelValue:d.value.role,"onUpdate:modelValue":t[7]||(t[7]=function(e){return d.value.role=e})},null,8,["disabled","modelValue"]),Object(u["createVNode"])(Ge,{disabled:!Object(u["unref"])(a).IS_ADMIN,class:"col-span-2 md:col-span-1",placeholder:"Wage",modelValue:d.value.pay,"onUpdate:modelValue":t[8]||(t[8]=function(e){return d.value.pay=e}),type:"number",step:".01"},null,8,["disabled","modelValue"]),Object(u["createVNode"])(kt,{disabled:!Object(u["unref"])(a).IS_ADMIN,class:"col-span-2 md:col-span-1",placeholder:"Job",options:Object(u["unref"])(E),modelValue:d.value.jobTitle,"onUpdate:modelValue":t[9]||(t[9]=function(e){return d.value.jobTitle=e})},null,8,["disabled","options","modelValue"]),Object(u["createVNode"])(Ge,{disabled:!Object(u["unref"])(a).IS_ADMIN,class:"col-span-2 md:col-span-1",placeholder:"Hours",modelValue:d.value.maxWeeklyHours,"onUpdate:modelValue":t[10]||(t[10]=function(e){return d.value.maxWeeklyHours=e}),type:"number"},null,8,["disabled","modelValue"])])]),nn,rn,Object(u["unref"])(h)?(Object(u["openBlock"])(),Object(u["createElementBlock"])("h3",an," Availability can be added once a new employee is created. ")):(Object(u["openBlock"])(),Object(u["createBlock"])(lt,{key:"id",cols:i,modelValue:Object(u["unref"])(y),"onUpdate:modelValue":t[12]||(t[12]=function(e){return Object(u["isRef"])(y)?y.value=e:null}),editable:Object(u["unref"])(a).IS_ADMIN,deletable:Object(u["unref"])(a).IS_ADMIN},{toolbar:Object(u["withCtx"])((function(){return[Object(u["createVNode"])(Object(u["unref"])(jt["a"]),{class:"w-full mr-6"},{left:Object(u["withCtx"])((function(){return[Object(u["unref"])(a).IS_ADMIN?(Object(u["openBlock"])(),Object(u["createBlock"])(bt,{key:0,onClick:t[11]||(t[11]=function(e){return O.value=!O.value})},{default:Object(u["withCtx"])((function(){return[cn]})),_:1})):Object(u["createCommentVNode"])("",!0)]})),_:1})]})),_:1},8,["modelValue","editable","deletable"])),Object(u["createVNode"])(Rt,{visible:O.value,"onUpdate:visible":t[13]||(t[13]=function(e){return O.value=e})},null,8,["visible"])])}}}),un=on,ln=n("da1e"),dn=(n("ef14"),n("fa8c"),n("8423"),n("f3b8"),n("b404")),sn=n("8ce0"),bn=n("600e"),fn={class:"flex justify-between"},mn={class:"flex-grow w-64"},pn={class:"grid grid-cols-4 gap-10 mt-3"},vn={key:0,class:"flex flex-col mx-auto w-full gap-1"},On=Object(u["createElementVNode"])("h3",{class:"mb-6"},"Shift Days",-1),jn={key:1,class:"flex flex-col mx-auto w-full gap-1"},hn=Object(u["createElementVNode"])("h3",{class:"mb-6"},"Shift Date",-1),yn={class:"flex flex-col gap-1"},En=Object(u["createElementVNode"])("h3",null,"Shift Times",-1),kn=Object(u["createElementVNode"])("span",{class:"text-sm"},"Shift must be at least 3 hours.",-1),wn={class:"col-span-2"},gn={class:"flex justify-between"},xn=Object(u["createElementVNode"])("h3",null,"Employees",-1),Tn=Object(u["createTextVNode"])("Add"),Vn={class:"flex flex-row-reverse gap-3 place-items-center"},Nn=Object(u["createTextVNode"])("Save"),An=Object(u["createTextVNode"])("Cancel"),_n=Object(u["defineComponent"])({props:{visible:{type:Boolean,required:!0}},emits:["update:visible"],setup:function(e,t){var n=t.emit,r=e,a=Object(T["e"])(U,Oe()),c=Object(T["e"])(ue,Oe()),o=[{value:"recurring",name:"Recurring"},{value:"one-time",name:"One-Time"}],i=Object(u["ref"])("recurring"),d=Object(u["ref"])(r.visible),s=Object(u["ref"])({days:[],date:void 0,start:void 0,end:void 0,employees:[{jobId:"",amount:""}]}),b=Object(u["ref"])(1),f=function(e){return e.some((function(e){return!!e.jobId&&!!e.amount}))},m=function(e){return te()(e).isAfter(te()(s.value.start).add(3,"hours").subtract(1,"minute"))},p=function(e){return s.value.days.length>0||!!s.value.date},v={recurringFormData:{days:{required:p},date:{required:p},start:{required:xt["b"]},end:{required:xt["b"],afterStart:m},employees:{required:f}}},O=Object(Tt["a"])(v,{recurringFormData:s},{$autoDirty:!0}),j=Object(u["computed"])((function(){return a.GET_ALL.value.map((function(e){return{name:e.name,value:e.id}}))})),h=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={start:s.value.start,end:s.value.end,days:s.value.days,date:s.value.date,employees:s.value.employees.filter((function(e){return!!e.jobId&&!!e.amount})).map((function(e){return Object(q["a"])(Object(q["a"])({},e),{},{amount:parseInt(e.amount)})}))},console.log(t),e.next=4,c.ADD_SCHEDULE_RULE(t);case 4:y();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){d.value=!1,s.value={days:[],date:void 0,start:void 0,end:void 0,employees:[{jobId:"",amount:""}]},b.value=1},E=function(){s.value.employees.push({jobId:"",amount:""}),b.value++};return Object(u["watch"])(d,(function(){n("update:visible",d.value)})),Object(u["watch"])((function(){return r.visible}),(function(){d.value=r.visible})),Object(u["watch"])((function(){return i.value}),(function(e){"one-time"===e?s.value.days=[]:s.value.date=void 0})),function(e,t){return Object(u["openBlock"])(),Object(u["createBlock"])(Object(u["unref"])(Vt["a"]),{modal:!0,header:"Add Shift Schedule Rule",draggable:!1,"dismissable-mask":!0,"keep-in-view-port":!0,"min-x":0,"min-y":0,onHide:y,visible:d.value,"onUpdate:visible":t[5]||(t[5]=function(e){return d.value=e})},{footer:Object(u["withCtx"])((function(){return[Object(u["createElementVNode"])("div",Vn,[Object(u["createVNode"])(bt,{disabled:Object(u["unref"])(O).$invalid,onClick:h},{default:Object(u["withCtx"])((function(){return[Nn]})),_:1},8,["disabled"]),Object(u["createVNode"])(bt,{class:"btn-outline-danger",onClick:y},{default:Object(u["withCtx"])((function(){return[An]})),_:1})])]})),default:Object(u["withCtx"])((function(){return[Object(u["createElementVNode"])("div",fn,[Object(u["createElementVNode"])("div",mn,[Object(u["createVNode"])(Object(u["unref"])(bn["a"]),{modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.value=e}),options:o,optionLabel:"name",optionValue:"value"},null,8,["modelValue"])])]),Object(u["createElementVNode"])("div",pn,["recurring"===i.value?(Object(u["openBlock"])(),Object(u["createElementBlock"])("div",vn,[On,(Object(u["openBlock"])(!0),Object(u["createElementBlock"])(u["Fragment"],null,Object(u["renderList"])(Object(u["unref"])(gt),(function(e,n){return Object(u["openBlock"])(),Object(u["createElementBlock"])("div",{class:"flex justify-between gap-3",key:e},[Object(u["createElementVNode"])("span",null,Object(u["toDisplayString"])(e),1),Object(u["createVNode"])(Object(u["unref"])(dn["a"]),{name:"dayName",value:n,modelValue:s.value.days,"onUpdate:modelValue":t[1]||(t[1]=function(e){return s.value.days=e})},null,8,["value","modelValue"])])})),128))])):(Object(u["openBlock"])(),Object(u["createElementBlock"])("div",jn,[hn,Object(u["createVNode"])(Object(u["unref"])(Nt["a"]),{placeholder:"Date",modelValue:s.value.date,"onUpdate:modelValue":t[2]||(t[2]=function(e){return s.value.date=e})},null,8,["modelValue"])])),Object(u["createElementVNode"])("div",yn,[En,kn,Object(u["createVNode"])(Object(u["unref"])(Nt["a"]),{placeholder:"Start",modelValue:s.value.start,"onUpdate:modelValue":t[3]||(t[3]=function(e){return s.value.start=e}),hourFormat:"12","step-minute":15,"time-only":!0},null,8,["modelValue"]),Object(u["createVNode"])(Object(u["unref"])(Nt["a"]),{placeholder:"End",modelValue:s.value.end,"onUpdate:modelValue":t[4]||(t[4]=function(e){return s.value.end=e}),hourFormat:"12","step-minute":15,"time-only":!0},null,8,["modelValue"])]),Object(u["createElementVNode"])("div",wn,[Object(u["createElementVNode"])("div",gn,[xn,Object(u["createVNode"])(bt,{class:"btn-sm",onClick:E},{default:Object(u["withCtx"])((function(){return[Tn]})),_:1})]),(Object(u["openBlock"])(!0),Object(u["createElementBlock"])(u["Fragment"],null,Object(u["renderList"])(Array.from(Array(b.value).keys()),(function(e){return Object(u["openBlock"])(),Object(u["createElementBlock"])("div",{key:e,class:"flex gap-3 my-3"},[Object(u["createVNode"])(Object(u["unref"])(bn["a"]),{placeholder:"Job Title",options:Object(u["unref"])(j),"option-label":"name","option-value":"value",modelValue:s.value.employees[e].jobId,"onUpdate:modelValue":function(t){return s.value.employees[e].jobId=t},class:"flex-grow"},null,8,["options","modelValue","onUpdate:modelValue"]),Object(u["createVNode"])(Object(u["unref"])(sn["a"]),{placeholder:"Number of Employees",type:"number",modelValue:s.value.employees[e].amount,"onUpdate:modelValue":function(t){return s.value.employees[e].amount=t}},null,8,["modelValue","onUpdate:modelValue"])])})),128))])])]})),_:1},8,["visible"])}}}),Dn=_n,Sn={class:"flex justify-around gap-4"},In={class:"w-64"},Cn=Object(u["createElementVNode"])("h1",null,"Store Name",-1),Rn={class:"flex justify-start max-w-lg gap-3"},Bn=Object(u["createTextVNode"])(" Save "),Ln={class:"flex justify-around"},Un=Object(u["createElementVNode"])("h1",null,"Store Hours",-1),Hn=Object(u["createTextVNode"])(" Save "),Mn={class:"table-fixed w-full max-w-sm"},Pn=Object(u["createElementVNode"])("thead",null,[Object(u["createElementVNode"])("tr",null,[Object(u["createElementVNode"])("th"),Object(u["createElementVNode"])("th",null,"Open"),Object(u["createElementVNode"])("th",null,"Close")])],-1),Gn={key:0},Fn=Object(u["createElementVNode"])("hr",null,null,-1),Yn=Object(u["createElementVNode"])("h1",null,"Shift Scheduling Rules",-1),qn=Object(u["createTextVNode"])(" Add "),$n=Object(u["createElementVNode"])("hr",null,null,-1),Wn=Object(u["createElementVNode"])("h1",null,"Job Titles",-1),Jn={class:"flex gap-3"},Zn={class:"flex flex-col"},zn={key:1,class:"text-danger text-sm"},Qn=Object(u["createTextVNode"])(" Save "),Kn=Object(u["defineComponent"])({setup:function(e){var t=Object(T["e"])(ae,Oe()),n=Object(T["e"])(U,Oe()),r=Object(T["e"])(ue,Oe()),a=Object(T["e"])(me,Oe()),c=Object(T["e"])(Y,Oe()),o=Object(u["ref"])(""),i=Object(u["ref"])(""),d=(Object(u["ref"])(),Object(u["ref"])(Object(H["a"])(Array(7).keys()).map((function(e){return{start:void 0,end:void 0}})))),s=Object(u["ref"])({addJob:!1,addShiftSchedule:!1}),b=function(e){return!n.GET_ALL.value.map((function(e){return e.name.toLowerCase().trim()})).includes(e.toLowerCase().trim())},f={storeName:{required:xt["b"]},newJobTitle:{required:xt["a"].withMessage("This field is required.",xt["b"]),unique:xt["a"].withMessage("Job title must be unique.",b)}},m=Object(Tt["a"])(f,{storeName:o,newJobTitle:i},{$autoDirty:!0}),p=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],v=[{name:"Number of Employees",id:"numOfEmps"},{id:"color",show:!1}],O=[{name:"Day/Date",id:"day",sortFunc:Wt},{name:"Total Billed Hours",id:"billedHours"}],j=Object(u["computed"])({get:function(){var e;return(null===(e=r.GET_ALL.value)||void 0===e?void 0:e.length)>0?r.GET_ALL.value.map((function(e){var t,n;if(void 0!==e.day.day&&null!==e.day.day)t=te()(e.day.start,"HH:mm"),n=te()(e.day.end,"HH:mm");else{if(!e.day.date)throw new Error("Missing weekday and date.");t=te()("".concat(e.day.date," ").concat(e.day.start),"YYYY-MM-DD HH:mm"),n=te()("".concat(e.day.date," ").concat(e.day.end),"YYYY-MM-DD HH:mm")}var r=n.diff(t,"hour",!0),a=e.rules.reduce((function(e,t){return t.jobTitle.name in e?e[t.jobTitle.name]+=t.amount:e[t.jobTitle.name]=t.amount,e.total=e.total?e.total+t.amount:t.amount,e}),{});return{id:e.id,day:e.day.day?p[e.day.day]:t.format("MMM DD, YYYY"),start:qt(e.day.start),end:qt(e.day.end),employees:Object.keys(a).sort((function(e,t){return"total"===e.toLowerCase()?1:"total"===t.toLowerCase()?-1:e.localeCompare(t)})).map((function(e){return"".concat(e.pascalToWords(),": ").concat(a[e])})).join("\n"),billedHours:e.rules.reduce((function(e,t){return e+t.amount}),0)*r}})):[]},set:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.map((function(e){return e.id})),a=r.GET_ALL.value.find((function(e){return!n.includes(e.id)})),t.next=4,r.DELETE_SCHEDULE_RULE(null===a||void 0===a?void 0:a.id);case 4:case"end":return t.stop()}}),t)})))()}}),h=Object(u["computed"])({get:function(){return n.GET_ALL.value.map((function(e){return Object(q["a"])(Object(q["a"])({},e),{},{numOfEmps:c.GET_ALL.value.filter((function(t){return t.jobTitle.id===e.id})).length})}))||[]},set:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,a,c,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=n.GET_ALL.value.filter((function(t){return!e.map((function(e){return e.id})).includes(t.id)})),a=Object(ln["a"])(r),t.prev=2,a.s();case 4:if((c=a.n()).done){t.next=10;break}return o=c.value,t.next=8,n.DELETE_DATA(o.id);case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](2),a.e(t.t0);case 15:return t.prev=15,a.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[2,12,15,18]])})))()}}),y=function(e){var t=0===e.numOfEmps;return t},E=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=d.value.filter((function(e){var n=te()(e.start),r=te()(e.end),a={day:n.day(),start:n.format("HH:mm"),end:r.format("HH:mm")};if(e.id){var c=t.GET_STORE_HOURS.value.find((function(t){return t.id===e.id})),o=c.day.day===a.day&&c.day.start===a.start&&c.day.end===a.end;return!o}return!0})).map((function(e){return{id:e.id,start:te()(e.start),end:te()(e.end)}})),e.next=3,t.CHANGE_HOURS({id:t.GET_ALL.value.id,data:n});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e,n=null===(e=t.GET_STORE_HOURS.value)||void 0===e?void 0:e.sort((function(e,t){return e.day.day-t.day.day})).map((function(e,t){var n;return n=e.day.day===t?{start:te()(e.day.start,"HH:mm").day(e.day.day).toDate(),end:te()(e.day.end,"HH:mm").day(e.day.day).toDate(),id:e.id}:{start:void 0,end:void 0,id:void 0},n}));n&&(d.value=n)},w=function(){o.value=t.GET_ALL.value.name};return Object(u["watch"])((function(){return t.GET_STORE_HOURS.value}),k),Object(u["watch"])((function(){return t.GET_ALL.value.name}),w),Object(u["onMounted"])((function(){k(),w()})),function(e,r){return Object(u["openBlock"])(),Object(u["createElementBlock"])("div",null,[Object(u["createElementVNode"])("div",Sn,[Object(u["createElementVNode"])("div",In,[Cn,Object(u["createElementVNode"])("div",Rn,[Object(u["createVNode"])(Ge,{modelValue:o.value,"onUpdate:modelValue":r[0]||(r[0]=function(e){return o.value=e}),invalid:Object(u["unref"])(m).storeName.$error,"error-text":"Please enter a store name.",disabled:!Object(u["unref"])(a).IS_ADMIN},null,8,["modelValue","invalid","disabled"]),Object(u["unref"])(a).IS_ADMIN?(Object(u["openBlock"])(),Object(u["createBlock"])(bt,{key:0,class:"flex-grow-0",disabled:Object(u["unref"])(m).storeName.$invalid,onClick:r[1]||(r[1]=function(e){return Object(u["unref"])(t).CHANGE_NAME({id:Object(u["unref"])(t).GET_ALL.value.id,name:o.value})})},{default:Object(u["withCtx"])((function(){return[Bn]})),_:1},8,["disabled"])):Object(u["createCommentVNode"])("",!0)])]),Object(u["createElementVNode"])("div",null,[Object(u["createElementVNode"])("div",Ln,[Un,Object(u["unref"])(a).IS_ADMIN?(Object(u["openBlock"])(),Object(u["createBlock"])(bt,{key:0,onClick:E},{default:Object(u["withCtx"])((function(){return[Hn]})),_:1})):Object(u["createCommentVNode"])("",!0)]),Object(u["createElementVNode"])("table",Mn,[Pn,Object(u["createElementVNode"])("tbody",null,[(Object(u["openBlock"])(),Object(u["createElementBlock"])(u["Fragment"],null,Object(u["renderList"])(p,(function(e,t){return Object(u["createElementVNode"])("tr",{key:e},[Object(u["createElementVNode"])("th",null,Object(u["toDisplayString"])(e),1),Object(u["createElementVNode"])("td",null,[Object(u["createVNode"])(Object(u["unref"])(Nt["a"]),{modelValue:d.value[t].start,"onUpdate:modelValue":function(e){return d.value[t].start=e},timeOnly:!0,placeholder:"09:00 AM",hourFormat:"12","step-minute":30,"manual-input":!0},null,8,["modelValue","onUpdate:modelValue"])]),Object(u["createElementVNode"])("td",null,[Object(u["createVNode"])(Object(u["unref"])(Nt["a"]),{modelValue:d.value[t].end,"onUpdate:modelValue":function(e){return d.value[t].end=e},timeOnly:!0,placeholder:"08:00 PM",hourFormat:"12","step-minute":30,"manual-input":!0},null,8,["modelValue","onUpdate:modelValue"])])])})),64))])])])]),Object(u["unref"])(a).IS_ADMIN?(Object(u["openBlock"])(),Object(u["createElementBlock"])("div",Gn,[Fn,Yn,Object(u["createVNode"])(Dn,{visible:s.value.addShiftSchedule,"onUpdate:visible":r[2]||(r[2]=function(e){return s.value.addShiftSchedule=e})},null,8,["visible"]),Object(u["createVNode"])(lt,{modelValue:Object(u["unref"])(j),"onUpdate:modelValue":r[4]||(r[4]=function(e){return Object(u["isRef"])(j)?j.value=e:null}),cols:O,editable:!1},{toolbar:Object(u["withCtx"])((function(){return[Object(u["createVNode"])(Object(u["unref"])(jt["a"]),{class:"w-full mr-4"},{left:Object(u["withCtx"])((function(){return[Object(u["createVNode"])(bt,{onClick:r[3]||(r[3]=function(e){return s.value.addShiftSchedule=!s.value.addShiftSchedule})},{default:Object(u["withCtx"])((function(){return[qn]})),_:1})]})),_:1})]})),_:1},8,["modelValue"]),$n,Wn,Object(u["createVNode"])(lt,{modelValue:Object(u["unref"])(h),"onUpdate:modelValue":r[8]||(r[8]=function(e){return Object(u["isRef"])(h)?h.value=e:null}),cols:v,editable:!1,deletable:y},{toolbar:Object(u["withCtx"])((function(){return[Object(u["createVNode"])(Object(u["unref"])(jt["a"]),{class:"w-full mr-4"},{left:Object(u["withCtx"])((function(){return[Object(u["createElementVNode"])("div",Jn,[Object(u["createVNode"])(bt,{onClick:r[5]||(r[5]=function(e){return s.value.addJob=!s.value.addJob}),class:Object(u["normalizeClass"])({"btn-outline-danger":s.value.addJob})},{default:Object(u["withCtx"])((function(){return[Object(u["createTextVNode"])(Object(u["toDisplayString"])(s.value.addJob?"Cancel":"Add"),1)]})),_:1},8,["class"]),Object(u["createElementVNode"])("div",Zn,[s.value.addJob?(Object(u["openBlock"])(),Object(u["createBlock"])(Object(u["unref"])(sn["a"]),{key:0,modelValue:i.value,"onUpdate:modelValue":r[6]||(r[6]=function(e){return i.value=e}),placeholder:"New Job Title",class:Object(u["normalizeClass"])({"p-invalid":Object(u["unref"])(m).newJobTitle.$error})},null,8,["modelValue","class"])):Object(u["createCommentVNode"])("",!0),Object(u["unref"])(m).newJobTitle.$error&&s.value.addJob?(Object(u["openBlock"])(),Object(u["createElementBlock"])("span",zn,Object(u["toDisplayString"])(Object(u["unref"])(m).newJobTitle.$errors[0].$message||""),1)):Object(u["createCommentVNode"])("",!0)]),s.value.addJob?(Object(u["openBlock"])(),Object(u["createBlock"])(bt,{key:0,onClick:r[7]||(r[7]=function(){Object(u["unref"])(n).ADD_TITLE(i.value),i.value="",Object(u["unref"])(m).newJobTitle.$reset()}),disabled:Object(u["unref"])(m).newJobTitle.$invalid},{default:Object(u["withCtx"])((function(){return[Qn]})),_:1},8,["disabled"])):Object(u["createCommentVNode"])("",!0)])]})),_:1})]})),_:1},8,["modelValue"])])):Object(u["createCommentVNode"])("",!0)])}}}),Xn=Kn,er={class:"h-full w-full flex flex-col justify-center"},tr=Object(u["createTextVNode"])("Login"),nr=Object(u["defineComponent"])({setup:function(e){Object(T["e"])(me,Oe());var t=Object(x["n"])(""),n=Object(x["n"])(""),r=Object(x["n"])(!1),a=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(a){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a.preventDefault(),r.value=!0,e.prev=2,e.next=5,s.post("/auth/login",{username:t.value,password:n.value});case 5:c=e.sent,console.log(c),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),console.log(e.t0);case 12:return e.prev=12,window.location.href="/",e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(t){return e.apply(this,arguments)}}();return function(e,c){return Object(u["openBlock"])(),Object(u["createElementBlock"])("div",er,[Object(u["createElementVNode"])("form",{onSubmit:a,class:"flex flex-col gap-3 w-full"},[Object(u["createVNode"])(Ge,{placeholder:"Username",modelValue:t.value,"onUpdate:modelValue":c[0]||(c[0]=function(e){return t.value=e})},null,8,["modelValue"]),Object(u["createVNode"])(Ge,{placeholder:"Password",type:"password",modelValue:n.value,"onUpdate:modelValue":c[1]||(c[1]=function(e){return n.value=e})},null,8,["modelValue"]),Object(u["createVNode"])(bt,{type:"submit",block:"",loading:r.value},{default:Object(u["withCtx"])((function(){return[tr]})),_:1},8,["loading"])],32)])}}}),rr=nr,ar=n("4dff"),cr=n("be84"),or=n("c98f"),ur=n("208c"),lr=n("4cba"),ir=n("ec26"),dr={key:0},sr=Object(u["createElementVNode"])("h2",{class:"text-danger"},"Missing shifts:",-1),br={class:"flex gap-2"},fr={key:0},mr=Object(u["createElementVNode"])("dt",null,"Start",-1),pr=Object(u["createElementVNode"])("dt",null,"End",-1),vr=Object(u["createTextVNode"])("Delete"),Or=Object(u["defineComponent"])({props:{editable:{type:Boolean,required:!1,default:!1},calendarType:{type:String,required:!1}},emits:["update:weekStart","update:activeDay"],setup:function(e,t){var n=t.emit,r=e,a=Object(T["e"])(ae,Oe()),c=Object(T["e"])(ue,Oe()),o=Object(T["e"])(Y,Oe()),i=Object(T["e"])(me,Oe()),d=Object(je["f"])(),s=Object(u["ref"])(),b=Object(u["ref"])(),f=Object(u["ref"])(),m=Object(u["ref"])(),p=Object(u["ref"])(),v=Object(u["ref"])(),O=Object(u["ref"])(""),j=Object(u["computed"])((function(){var e;return null===(e=v.value)||void 0===e?void 0:e.getApi()})),h=Object(u["computed"])((function(){return{plugins:[or["a"],ur["a"],cr["a"]],initialView:i.IS_ADMIN?"resourceTimeline":"timeGridWeek",views:{resourceTimeline:{titleFormat:{dateStyle:"full"}}},weekends:!0,editable:r.editable,slotDuration:"00:15:00",allDaySlot:!1,droppable:r.editable,selectable:!0,slotMinTime:E.value[0],slotMaxTime:E.value[1],schedulerLicenseKey:"CC-Attribution-NonCommercial-NoDerivatives",events:k.value,eventDrop:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.event,r=t.newResource,e.next=4,A(n,r);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),eventResize:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.event,e.next=3,A(n);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),datesSet:function(e){var t=e.start;b.value&&b.value.toDateString()===t.toDateString()||(b.value=new Date(t.toString())),0!==t.getDay()&&t.setDate(t.getDate()-t.getDay()),s.value&&s.value.valueOf()===t.valueOf()||(s.value=new Date(t.toString()))},eventMouseEnter:function(e){if(!r.editable){O.value=e.event.id;var t=e.el;m.value.style.visibility="inherit",f.value=Object(lr["a"])(t,{allowHTML:!0,showOnCreate:!0,content:m.value,interactive:r.editable,appendTo:function(){return document.getElementsByClassName("fc-view-harness")[0]}})}},eventClick:function(e){O.value=e.event.id;var t=e.el;m.value.style.visibility="inherit",f.value=Object(lr["a"])(t,{allowHTML:!0,showOnCreate:!0,content:m.value,trigger:"manual",interactive:r.editable,appendTo:function(){return document.getElementsByClassName("fc-view-harness")[0]}})},dateClick:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n,c,o,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r.editable){e.next=6;break}return o=te()(t.date),u=o.add(3,"hours"),l={id:Object(ir["a"])(),start:o.toISOString(),end:u.toISOString(),title:"".concat(o.format("HH:mm"),"-").concat(u.format("HH:mm")),resourceId:null===(n=t.resource)||void 0===n?void 0:n.id},e.next=6,a.ADD_SCHEDULE_ITEM({id:l.id,date:o,start:o.format("HH:mm"),end:u.format("HH:mm"),personId:l.resourceId,scheduleId:(null===(c=a.GET_SCHEDULE[0])||void 0===c?void 0:c.extendedProps.schedule)||Object(ir["a"])()});case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),unselect:function(){f.value=void 0},resources:y.value,resourceOrder:"title",resourceLabelClassNames:"resource-items",resourceLabelDidMount:function(e){0===e.resource.getChildren().length&&e.el.addEventListener("click",V(e.resource.toPlainObject()))},resourceLabelWillUnmount:function(e){e.el.removeEventListener("click",V(e.resource.toPlainObject()))},customButtons:{datepicker:{text:"Choose Date",click:function(e,t){p.value.style.visibility="inherit",f.value=Object(lr["a"])(t,{allowHTML:!0,showOnCreate:!0,content:p.value,interactive:!0,trigger:"manual",maxWidth:"none"})}}},headerToolbar:{right:"datepicker today prev,next"}}})),y=Object(u["computed"])((function(){var e=o.GET_ALL.value.sort((function(e,t){return"".concat(e.firstName," ").concat(e.lastName).localeCompare("".concat(t.firstName," ").concat(t.lastName))})).reduce((function(e,t){var n=t.jobTitle.name,r={id:t.id,title:t.firstName+" "+t.lastName,eventBackgroundColor:t.jobTitle.color,eventBorderColor:t.jobTitle.color};return e[n]?e[n].push(r):e[n]=[r],e}),{});return Object.keys(e).map((function(t){return{id:t,title:t,children:e[t]}}))})),E=Object(u["computed"])((function(){var e=a.GET_STORE_HOURS.value,t="00:00:00",n="24:00:00";if(i.IS_ADMIN){var r,c,o,u=null===e||void 0===e||null===(r=e.find((function(e){var t;return e.day.day===(null===(t=b.value)||void 0===t?void 0:t.getDay())})))||void 0===r?void 0:r.day;t=null!==(c=null===u||void 0===u?void 0:u.start)&&void 0!==c?c:t,n=null!==(o=null===u||void 0===u?void 0:u.end)&&void 0!==o?o:n}else{var l=null===e||void 0===e?void 0:e.reduce((function(e,t){function n(e,t,n){if(e){var r=t.localeCompare(e);return"start"===n&&r<0||"end"===n&&r>0?t:e}return t}return e[0]=n(e[0],t.day.start,"start"),e[1]=n(e[1],t.day.end,"end"),e}),["",""]);t=l[0]||t,n=l[1]||n}return[t,n]})),k=Object(u["computed"])((function(){if(s.value){var e=i.IS_ADMIN?a.GET_SCHEDULE:a.GET_SCHEDULE.map((function(e){return delete e.title,e}));return e}return[]})),w=Object(u["computed"])((function(){var e,t=null===(e=k.value)||void 0===e?void 0:e.find((function(e){return e.id===O.value}));if(t)return{start:te()(t.start).format("HH:mm"),end:te()(t.end).format("HH:mm")}})),g=Object(u["computed"])((function(){if(b.value){var e=b.value.getDay(),t=c.GET_BY_DAY(e).value,n=a.GET_SCHEDULE_BY_DATE(te()(b.value));if(t.length>0&&n.length>0){var r=[];return t.forEach((function(e){var t=e.day.start,a=e.day.end;e.rules.forEach((function(e){var c=e.jobTitle.name,o=n.reduce((function(e,n){var r,o=te()(n.start).format("HH:mm"),u=te()(n.end).format("HH:mm");return o===t&&u===a&&c===(null===(r=n.extendedProps)||void 0===r?void 0:r.job)&&e++,e}),0),u=e.amount-o;u>0&&r.push({shift:"".concat(t,"-").concat(a),job:c,amount:u})}))})),r}}return[]})),x=function(e){var t,n;null===(t=f.value)||void 0===t||t.hide(),null===(n=j.value)||void 0===n||n.gotoDate(e)},V=function(e){return function(t){d.push("/employees/".concat(e.id))}},N=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.DELETE_SCHEDULE_ITEM(t);case 2:null===(n=f.value)||void 0===n||n.hide();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t,n){var r,c,o,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=te()(t.start),c=te()(t.end),o=r.format("HH:mm"),u=c.format("HH:mm"),l=null===n||void 0===n?void 0:n.id,e.next=7,a.EDIT_SCHEDULE_ITEM({id:t.id,date:r.toDate(),start:o,end:u,personId:l});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(u["onMounted"])((function(){a.UPDATE_SCHEDULE(te()().day(0).toDate())})),Object(u["watch"])((function(){return s.value}),function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,a.UPDATE_SCHEDULE(t);case 3:n("update:weekStart",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(u["watch"])((function(){return b.value}),(function(e){n("update:activeDay",e)})),function(e,t){return Object(u["openBlock"])(),Object(u["createElementBlock"])(u["Fragment"],null,[Object(u["unref"])(g).length>0&&Object(u["unref"])(i).IS_ADMIN?(Object(u["openBlock"])(),Object(u["createElementBlock"])("div",dr,[sr,(Object(u["openBlock"])(!0),Object(u["createElementBlock"])(u["Fragment"],null,Object(u["renderList"])(Object(u["unref"])(g),(function(e,t){return Object(u["openBlock"])(),Object(u["createElementBlock"])("p",{class:"text-danger",key:t}," Missing "+Object(u["toDisplayString"])(e.amount)+" "+Object(u["toDisplayString"])(e.job)+"(s) for "+Object(u["toDisplayString"])(e.shift),1)})),128))])):Object(u["createCommentVNode"])("",!0),Object(u["createElementVNode"])("div",br,[Object(u["createVNode"])(Object(u["unref"])(ar["a"]),{ref:function(e,t){t["fullCalendar"]=e,v.value=e},class:"flex-grow",options:Object(u["unref"])(h)},null,8,["options"])]),Object(u["createElementVNode"])("div",{ref:function(e,t){t["eventPopover"]=e,m.value=e},style:{visibility:"hidden"}},[void 0!==Object(u["unref"])(w)?(Object(u["openBlock"])(),Object(u["createElementBlock"])("div",fr,[Object(u["createElementVNode"])("dl",null,[mr,Object(u["createElementVNode"])("dd",null,Object(u["toDisplayString"])(Object(u["unref"])(w).start),1),pr,Object(u["createElementVNode"])("dd",null,Object(u["toDisplayString"])(Object(u["unref"])(w).end),1)]),r.editable?(Object(u["openBlock"])(),Object(u["createBlock"])(bt,{key:0,class:"btn-danger btn-sm btn-block my-1",onClick:t[0]||(t[0]=function(e){return N(O.value)})},{default:Object(u["withCtx"])((function(){return[vr]})),_:1})):Object(u["createCommentVNode"])("",!0)])):Object(u["createCommentVNode"])("",!0)],512),Object(u["createElementVNode"])("div",{ref:function(e,t){t["calendarPicker"]=e,p.value=e},style:{visibility:"hidden"}},[Object(u["createVNode"])(Object(u["unref"])(Nt["a"]),{inline:!0,onDateSelect:x})],512)],64)}}}),jr=(n("9267"),Or),hr=n("7ee6"),yr={class:"flex flex-row-reverse"},Er={key:0,class:"flex gap-3"},kr=Object(u["createTextVNode"])("Set Schedule as Default"),wr=Object(u["createTextVNode"])("Edit Schedule"),gr=Object(u["createTextVNode"])("Generate Schedule"),xr={key:1,class:"flex gap-3"},Tr=Object(u["createTextVNode"])("Done"),Vr={class:"my-3"},Nr={key:0,class:"text-lg opacity-60 font-bold"},Ar={class:"flex flex-col gap-2"},_r={class:"flex flex-row-reverse gap-2 w-full"},Dr=Object(u["createTextVNode"])("Confirm"),Sr=Object(u["createTextVNode"])("Cancel"),Ir={class:"text-center my-3"},Cr=Object(u["createElementVNode"])("br",null,null,-1),Rr=Object(u["createElementVNode"])("h4",null," All future generated schedules will be based from this schedule. ",-1),Br=Object(u["createElementVNode"])("h4",null,"All previous default schedules will be removed from default.",-1),Lr=Object(u["createElementVNode"])("h4",{class:"font-bold"},"Are you sure?",-1),Ur={class:"flex flex-row-reverse gap-2 w-full"},Hr=Object(u["createTextVNode"])("Confirm"),Mr=Object(u["createTextVNode"])("Cancel"),Pr=Object(u["defineComponent"])({setup:function(e){var t=Object(T["e"])(ae,Oe()),n=Object(T["e"])(me,Oe()),r=Object(Ne["r"])(!1),a=Object(Ne["r"])(!1),c=Object(Ne["r"])(!1),o=Object(Ne["r"])(),i=Object(Ne["r"])(!1),d=Object(Ne["r"])(!1),s=Object(Ne["r"])(),b=Object(Ne["c"])((function(){var e=new Date,t=e.getDay();return e.setDate(e.getDate()+t%7||7),e})),f=function(e){if(e[0]){var t=e[0],n=new Date(t);n.setDate(n.getDate()+6),o.value=[t,n]}},m=Object(hr["asyncComputed"])(Object(l["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.SCHEDULE_START_DATES();case 2:return n=e.sent,console.log(n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),[]),p=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!o.value||!o.value[0]){e.next=9;break}return a.value=!0,e.next=4,t.GENERATE_SCHEDULE(o.value[0]);case 4:return e.next=6,t.UPDATE_SCHEDULE(s.value);case 6:a.value=!1,o.value=[],r.value=!1;case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i.value=!0,e.next=3,t.SET_DEFAULT_SCHEDULE(s.value);case 3:i.value=!1,c.value=!1;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return function(e,l){return Object(u["openBlock"])(),Object(u["createElementBlock"])("div",null,[Object(u["createElementVNode"])("div",yr,[!d.value&&Object(u["unref"])(n).IS_ADMIN?(Object(u["openBlock"])(),Object(u["createElementBlock"])("div",Er,[Object(u["createVNode"])(bt,{onClick:l[0]||(l[0]=function(e){return c.value=!0}),disabled:Object(u["unref"])(t).SCHEDULE_IS_DEFAULT},{default:Object(u["withCtx"])((function(){return[kr]})),_:1},8,["disabled"]),Object(u["createVNode"])(bt,{onClick:l[1]||(l[1]=function(e){return d.value=!0})},{default:Object(u["withCtx"])((function(){return[wr]})),_:1}),Object(u["createVNode"])(bt,{onClick:l[2]||(l[2]=function(e){return r.value=!0})},{default:Object(u["withCtx"])((function(){return[gr]})),_:1})])):d.value&&Object(u["unref"])(n).IS_ADMIN?(Object(u["openBlock"])(),Object(u["createElementBlock"])("div",xr,[Object(u["createVNode"])(bt,{onClick:l[3]||(l[3]=function(e){return d.value=!1})},{default:Object(u["withCtx"])((function(){return[Tr]})),_:1})])):Object(u["createCommentVNode"])("",!0)]),Object(u["createElementVNode"])("div",Vr,[Object(u["unref"])(t).SCHEDULE_IS_DEFAULT?(Object(u["openBlock"])(),Object(u["createElementBlock"])("span",Nr,"Default Schedule")):Object(u["createCommentVNode"])("",!0),Object(u["createVNode"])(jr,{editable:d.value,"onUpdate:weekStart":l[4]||(l[4]=function(e){return s.value=e})},null,8,["editable"])]),Object(u["createVNode"])(Object(u["unref"])(Vt["a"]),{header:"Choose a week to generate schedule",modal:!0,visible:r.value,"onUpdate:visible":l[7]||(l[7]=function(e){return r.value=e})},{default:Object(u["withCtx"])((function(){return[Object(u["createElementVNode"])("div",Ar,[Object(u["createVNode"])(Object(u["unref"])(Nt["a"]),{modelValue:o.value,"onUpdate:modelValue":[l[5]||(l[5]=function(e){return o.value=e}),f],inline:!0,"selection-mode":"range",disabledDays:[1,2,3,4,5,6],"disabled-dates":Object(u["unref"])(m),"min-date":Object(u["unref"])(b)},null,8,["modelValue","disabled-dates","min-date"]),Object(u["createElementVNode"])("div",_r,[Object(u["createVNode"])(bt,{disabled:!o.value||0===o.value.length,loading:a.value,"loading-text":"Generating...",onClick:p},{default:Object(u["withCtx"])((function(){return[Dr]})),_:1},8,["disabled","loading"]),Object(u["createVNode"])(bt,{class:"btn-outline-danger",onClick:l[6]||(l[6]=function(e){return r.value=!1})},{default:Object(u["withCtx"])((function(){return[Sr]})),_:1})])])]})),_:1},8,["visible"]),Object(u["createVNode"])(Object(u["unref"])(Vt["a"]),{modal:!0,visible:c.value,"onUpdate:visible":l[9]||(l[9]=function(e){return c.value=e})},{default:Object(u["withCtx"])((function(){return[Object(u["createElementVNode"])("div",Ir,[Object(u["createElementVNode"])("h2",null," This will set the schedule between "+Object(u["toDisplayString"])(Object(u["unref"])(te.a)(s.value).format("MMM D"))+" and "+Object(u["toDisplayString"])(Object(u["unref"])(te.a)(s.value).add(6,"days").format("MMM D"))+" as default. ",1),Cr,Rr,Br,Lr]),Object(u["createElementVNode"])("div",Ur,[Object(u["createVNode"])(bt,{onClick:v,loading:i.value},{default:Object(u["withCtx"])((function(){return[Hr]})),_:1},8,["loading"]),Object(u["createVNode"])(bt,{class:"btn-outline-danger",onClick:l[8]||(l[8]=function(e){return c.value=!1})},{default:Object(u["withCtx"])((function(){return[Mr]})),_:1})])]})),_:1},8,["visible"])])}}}),Gr=Pr,Fr=n("ffd2"),Yr=Object(u["createElementVNode"])("h1",null,"Request Time Off",-1),qr={class:"flex gap-3 my-3"},$r=Object(u["createTextVNode"])("Submit"),Wr=Object(u["createElementVNode"])("hr",null,null,-1),Jr=Object(u["createElementVNode"])("h1",null,"Submitted Time Off Requests",-1),Zr=Object(u["defineComponent"])({setup:function(e){var t=Object(T["e"])(be,Oe()),n=Object(T["e"])(me,Oe()),r=Object(u["ref"])(),a=Object(u["ref"])(),c=Object(u["ref"])(""),i=Object(u["computed"])((function(){return!!r.value&&!!a.value&&!!c.value&&a.value>r.value})),d=[{id:"start",sortFunc:function(e,t){var n=te()(e),r=te()(t);return n.isBefore(r)?-1:n.isAfter(r)?1:0}},{id:"end",sortFunc:function(e,t){var n=te()(e),r=te()(t);return n.isBefore(r)?-1:n.isAfter(r)?1:0}}],s=Object(u["computed"])((function(){return t.TIMEOFF_BY_PERSON(n.USER_ID).value.map((function(e){return{id:e.id,start:te()("".concat(e.start.date," ").concat(e.start.start),"YYYY-MM-DD HH:mm").format("MMM DD hh:mm A"),end:te()("".concat(e.end.date," ").concat(e.end.start),"YYYY-MM-DD HH:mm").format("MMM DD hh:mm A"),reason:e.reason,status:!0===e.isApproved?"Approved":!1===e.isApproved?"Rejected":"Pending"}}))||[]})),b=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.SUBMIT_TIMEOFF({start:r.value,end:a.value,reason:c.value});case 2:r.value=void 0,a.value=void 0,c.value="";case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u["onMounted"])((function(){t.GET_STATUS.value===o.IDLE&&t.INITIALIZE_DATA()})),function(e,t){return Object(u["openBlock"])(),Object(u["createElementBlock"])("div",null,[Yr,Object(u["createElementVNode"])("div",qr,[Object(u["createVNode"])(Object(u["unref"])(Nt["a"]),{id:"start",modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.value=e}),showTime:!0,"hour-format":"12",class:"w-full",placeholder:"Start"},null,8,["modelValue"]),Object(u["createVNode"])(Object(u["unref"])(Nt["a"]),{placeholder:"End",modelValue:a.value,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.value=e}),class:"w-full",showTime:!0,"hour-format":"12"},null,8,["modelValue"])]),Object(u["createVNode"])(Object(u["unref"])(Fr["a"]),{placeholder:"Reason",class:"w-full block",modelValue:c.value,"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.value=e}),rows:"3"},null,8,["modelValue"]),Object(u["createVNode"])(bt,{class:"btn-block my-5",disabled:!Object(u["unref"])(i),onClick:b},{default:Object(u["withCtx"])((function(){return[$r]})),_:1},8,["disabled"]),Wr,Jr,Object(u["unref"])(s).length>0?(Object(u["openBlock"])(),Object(u["createBlock"])(lt,{key:0,modelValue:Object(u["unref"])(s),"onUpdate:modelValue":t[3]||(t[3]=function(e){return Object(u["isRef"])(s)?s.value=e:null}),cols:d,editable:!1,deletable:!1},null,8,["modelValue"])):Object(u["createCommentVNode"])("",!0)])}}}),zr=Zr,Qr=Object(u["createElementVNode"])("h1",null,"Time Off",-1),Kr={key:0,class:"flex gap-3 justify-center"},Xr=Object(u["createTextVNode"])("Approve"),ea=Object(u["createTextVNode"])("Decline"),ta=Object(u["defineComponent"])({setup:function(e){var t=Object(T["e"])(be,Oe()),n=(Object(T["e"])(me,Oe()),Object(T["e"])(Y,Oe())),r=[{id:"start",sortFunc:function(e,t){var n=te()(e),r=te()(t);return n.isBefore(r)?-1:n.isAfter(r)?1:0}},{id:"end",sortFunc:function(e,t){var n=te()(e),r=te()(t);return n.isBefore(r)?-1:n.isAfter(r)?1:0}}],a=Object(x["a"])((function(){return t.ALL_TIMEOFFS.map((function(e){var t=n.GET_BY_ID(e.person).value;return{id:e.id,employee:t.firstName+" "+t.lastName,start:te()("".concat(e.start.date," ").concat(e.start.start),"YYYY-MM-DD HH:mm").format("MMM DD hh:mm A"),end:te()("".concat(e.end.date," ").concat(e.end.start),"YYYY-MM-DD HH:mm").format("MMM DD hh:mm A"),reason:e.reason,status:!0===e.isApproved?"Approved":!1===e.isApproved?"Rejected":"Pending"}}))||[]})),c=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.APPROVE_TIMEOFF({id:n,action:r});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(x["k"])((function(){t.GET_STATUS.value===o.IDLE&&t.INITIALIZE_DATA()})),function(e,n){return Object(u["openBlock"])(),Object(u["createElementBlock"])(u["Fragment"],null,[Qr,Object(u["createVNode"])(lt,{modelValue:Object(u["unref"])(a),"onUpdate:modelValue":n[0]||(n[0]=function(e){return Object(u["isRef"])(a)?a.value=e:null}),deletable:!1,editable:!1,cols:r},{after:Object(u["withCtx"])((function(e){var n=e.data;return[Object(u["unref"])(t).REQUEST_IS_PENDING(n.toString())?(Object(u["openBlock"])(),Object(u["createElementBlock"])("div",Kr,[Object(u["unref"])(t).REQUEST_IS_PENDING(n.toString())?(Object(u["openBlock"])(),Object(u["createBlock"])(bt,{key:0,class:"btn-sm btn-outline-primary",onClick:function(e){return c(n.toString(),"approve")}},{default:Object(u["withCtx"])((function(){return[Xr]})),_:2},1032,["onClick"])):Object(u["createCommentVNode"])("",!0),Object(u["unref"])(t).REQUEST_IS_PENDING(n.toString())?(Object(u["openBlock"])(),Object(u["createBlock"])(bt,{key:1,class:"btn-sm btn-outline-danger",onClick:function(e){return c(n.toString(),"deny")}},{default:Object(u["withCtx"])((function(){return[ea]})),_:2},1032,["onClick"])):Object(u["createCommentVNode"])("",!0)])):Object(u["createCommentVNode"])("",!0)]})),_:1},8,["modelValue"])],64)}}}),na=ta,ra=[{path:"/",name:"home",component:rr,meta:{showNav:!1}},{path:"/employees",name:"employees",component:Ot,beforeEnter:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.get("/auth");case 2:if(t=e.sent,!t.data){e.next=9;break}if("admin"!==t.data.role){e.next=8;break}return e.abrupt("return",!0);case 8:return e.abrupt("return","/employees/".concat(t.data.user));case 9:return e.abrupt("return","/");case 10:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{path:"/employees/:id",name:"employeeDetails",component:un,beforeEnter:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.get("/auth");case 2:if(n=e.sent,"admin"===n.data.role||n.data.user===t.params.id){e.next=7;break}return e.abrupt("return","/employees/".concat(n.data.user));case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),meta:{show:!1}},{path:"/store",name:"storeInfo",component:Xn},{path:"/schedule",name:"schedule",component:Gr},{path:"/request-emp",name:"SubmitRequests",component:zr,meta:{show:"user"},beforeEnter:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.get("/auth");case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{path:"/requests",name:"Requests",component:na,meta:{show:"admin"},beforeEnter:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}],aa=Object(je["b"])({history:Object(je["c"])(),routes:ra});aa.beforeEach(function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.get("/auth");case 2:if(n=e.sent,n.data){e.next=11;break}if("/"!==t.path){e.next=8;break}return e.abrupt("return",!0);case 8:return e.abrupt("return","/");case 9:e.next=16;break;case 11:if("/"!==t.path){e.next=15;break}return e.abrupt("return","/employees");case 15:return e.abrupt("return",!0);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var ca=aa,oa=n("3ac6");n("6bd3"),n("9669"),n("7735"),n("014c"),n("32f5"),n("33ef");function ua(){String.prototype.pascalToWords=function(){var e=this.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}}var la=n("96ee"),ia=n("5bc2"),da=n("d713"),sa=(n("bc8e"),n("2090"));ua(),Jt(),De["b"].add(la["a"],ia["a"],da["a"]),Object(u["createApp"])(Ve).use(ve,pe).use(ca).use(oa["a"]).use(sa["a"]).mount("#app")}});
//# sourceMappingURL=index.69794424.js.map